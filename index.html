<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>âœ¨ Mi Aula Interactiva - Fase 3 âœ¨</title>

<style>
body{
    margin:0;
    font-family:Arial, Helvetica, sans-serif;
    background:linear-gradient(135deg,#4b0082,#0077ff,#39ff14);
    color:white;
    text-align:center;
}

header{
    background:black;
    padding:15px;
    font-size:18px;
}

h1{
    margin:10px 0;
}

button{
    padding:15px;
    margin:10px;
    font-size:16px;
    border:none;
    border-radius:12px;
    cursor:pointer;
    background:#ff6f00;
    color:white;
    font-weight:bold;
    transition:0.3s;
}

button:hover{
    transform:scale(1.05);
}

.hidden{
    display:none;
}

.grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
    gap:15px;
    padding:20px;
}

.game-box{
    background:white;
    color:black;
    padding:20px;
    border-radius:15px;
    max-width:500px;
    margin:20px auto;
}

#scoreBoard{
    font-size:20px;
    margin:10px;
}
</style>
</head>

<body>

<header>
Mtra. MarÃ­a Fernanda Flores Valenzuela | Zona Escolar 105 | CCT: 26DPR1320W
</header>

<h1>ğŸš€ Fase 3 - Los Exploradores</h1>

<div id="scoreBoard">
â­ Puntos Totales: <span id="totalScore">0</span>
</div>

<div id="menuFase3" class="grid">
<button onclick="openGame('calculo')">ğŸ§® CÃ¡lculo Mental</button>
<button onclick="openGame('alfabetizacion')">âœ AlfabetizaciÃ³n</button>
<button onclick="openGame('lectura')">ğŸ“– ComprensiÃ³n Lectora</button>
<button onclick="openGame('nombre')">ğŸªª Escribe tu Nombre</button>
<button onclick="openGame('oracion')">ğŸ“ Completa la OraciÃ³n</button>
<button onclick="openGame('medio')">ğŸŒ¿ Medio Ambiente</button>
<button onclick="openGame('figuras')">ğŸ”º Figuras GeomÃ©tricas</button>
<button onclick="openGame('tiendita')">ğŸ›’ La Tiendita</button>
<button onclick="openGame('secuencia')">ğŸ”„ Secuencia y Orden</button>
<button onclick="openGame('letras')">ğŸ”¤ Letras vs NÃºmeros</button>
</div>

<div id="gameArea"></div>

<script>

let totalScore = 0;
let timer;
let timeLeft = 30;

function updateScore(points){
    totalScore += points;
    document.getElementById("totalScore").textContent = totalScore;
}

function startTimer(endCallback){
    timeLeft = 30;
    const gameArea = document.getElementById("gameArea");
    const timerDisplay = document.createElement("p");
    timerDisplay.id="timer";
    timerDisplay.textContent = "â± Tiempo: 30";
    gameArea.appendChild(timerDisplay);

    timer = setInterval(()=>{
        timeLeft--;
        timerDisplay.textContent = "â± Tiempo: " + timeLeft;
        if(timeLeft<=0){
            clearInterval(timer);
            endCallback();
        }
    },1000);
}

function openGame(game){
    document.getElementById("menuFase3").classList.add("hidden");
    const area = document.getElementById("gameArea");
    area.innerHTML="";

    if(game==="calculo"){ calculoMental(); }
    if(game==="letras"){ letrasVsNumeros(); }
    else if(game!=="calculo" && game!=="letras"){
        area.innerHTML="<div class='game-box'><h2>ğŸ® Juego en construcciÃ³n</h2><button onclick='goBack()'>Volver</button></div>";
    }
}

function goBack(){
    clearInterval(timer);
    document.getElementById("gameArea").innerHTML="";
    document.getElementById("menuFase3").classList.remove("hidden");
}

//////////////////////////////
// ğŸ§® CÃLCULO MENTAL
//////////////////////////////

function calculoMental(){
    const area=document.getElementById("gameArea");
    let localScore=0;

    area.innerHTML="<div class='game-box'><h2>ğŸ§® CÃ¡lculo Mental</h2><div id='question'></div><input id='answer' type='number'><br><button onclick='checkAnswer()'>Responder</button><div id='feedback'></div><button onclick='goBack()'>Salir</button></div>";

    startTimer(endGame);

    function newQuestion(){
        let a=Math.floor(Math.random()*20);
        let b=Math.floor(Math.random()*20);
        let op=Math.random()>0.5?"+":"-";
        window.currentAnswer = op==="+"?a+b:a-b;
        document.getElementById("question").textContent = `${a} ${op} ${b} = ?`;
    }

    window.checkAnswer=function(){
        let val=parseInt(document.getElementById("answer").value);
        if(val===window.currentAnswer){
            updateScore(10);
            localScore+=10;
            document.getElementById("feedback").textContent="âœ… Correcto!";
        }else{
            document.getElementById("feedback").textContent="âŒ Intenta de nuevo";
        }
        document.getElementById("answer").value="";
        newQuestion();
    }

    function endGame(){
        area.innerHTML="<div class='game-box'><h2>ğŸ‰ Â¡Excelente! Has completado la actividad</h2><p>Puntos ganados: "+localScore+"</p><button onclick='goBack()'>Volver</button></div>";
    }

    newQuestion();
}

//////////////////////////////
// ğŸ”¤ LETRAS VS NÃšMEROS
//////////////////////////////

function letrasVsNumeros(){
    const area=document.getElementById("gameArea");
    let localScore=0;
    let characters=["A","3","M","7","B","!","K","9","P","?"];

    area.innerHTML="<div class='game-box'><h2>ğŸ”¤ Letras vs NÃºmeros</h2><div id='charContainer'></div><div id='feedback'></div><button onclick='goBack()'>Salir</button></div>";

    const container=document.getElementById("charContainer");

    characters.forEach(char=>{
        const btn=document.createElement("button");
        btn.textContent=char;
        btn.onclick=function(){
            if(/[A-Za-z]/.test(char)){
                updateScore(5);
                localScore+=5;
                document.getElementById("feedback").textContent="âœ… Correcto";
            }else{
                document.getElementById("feedback").textContent="âŒ No es letra";
            }
        }
        container.appendChild(btn);
    });

    startTimer(()=>{
        area.innerHTML="<div class='game-box'><h2>ğŸ‰ Â¡Excelente! Has completado la actividad</h2><p>Puntos ganados: "+localScore+"</p><button onclick='goBack()'>Volver</button></div>";
    });
}

</script>
</body>
</html>
