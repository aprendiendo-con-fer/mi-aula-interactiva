<!doctype html>
<html lang="es" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mi Aula Interactiva</title>
  <script src="https://cdn.tailwindcss.com/3.4.17"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&amp;family=Nunito:wght@400;600;700;800&amp;display=swap" rel="stylesheet">
  <style>
    * { font-family: 'Nunito', sans-serif; }
    .title-font { font-family: 'Fredoka One', cursive; }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
    @keyframes bounce-slow {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    @keyframes sparkle {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.5; transform: scale(1.2); }
    }
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }
    @keyframes celebrate {
      0% { transform: scale(1) rotate(0deg); }
      25% { transform: scale(1.1) rotate(-5deg); }
      50% { transform: scale(1.2) rotate(5deg); }
      75% { transform: scale(1.1) rotate(-5deg); }
      100% { transform: scale(1) rotate(0deg); }
    }
    .float { animation: float 3s ease-in-out infinite; }
    .bounce-slow { animation: bounce-slow 2s ease-in-out infinite; }
    .sparkle { animation: sparkle 1.5s ease-in-out infinite; }
    .shake { animation: shake 0.5s ease-in-out; }
    .celebrate { animation: celebrate 0.6s ease-in-out; }
    
    .btn-phase {
      transition: all 0.3s ease;
      box-shadow: 0 6px 0 rgba(0,0,0,0.2), 0 8px 20px rgba(0,0,0,0.15);
    }
    .btn-phase:hover {
      transform: translateY(-3px);
      box-shadow: 0 9px 0 rgba(0,0,0,0.2), 0 12px 25px rgba(0,0,0,0.2);
    }
    .btn-phase:active {
      transform: translateY(2px);
      box-shadow: 0 3px 0 rgba(0,0,0,0.2), 0 4px 10px rgba(0,0,0,0.1);
    }
    
    .category-btn {
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    .category-btn:hover {
      transform: scale(1.08) rotate(-2deg);
    }
    
    .life-heart {
      transition: all 0.3s ease;
    }
    .life-heart.lost {
      filter: grayscale(100%);
      opacity: 0.3;
    }
    
    .progress-bar {
      transition: width 0.1s linear;
    }
    
    .option-btn {
      transition: all 0.2s ease;
    }
    .option-btn:hover:not(:disabled) {
      transform: scale(1.03);
    }
    .option-btn.correct {
      background: linear-gradient(135deg, #10b981, #059669) !important;
      color: white !important;
    }
    .option-btn.incorrect {
      background: linear-gradient(135deg, #ef4444, #dc2626) !important;
      color: white !important;
    }
    
    .decorative-element {
      position: absolute;
      pointer-events: none;
      user-select: none;
    }
  </style>
  <style>body { box-sizing: border-box; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full overflow-auto bg-gradient-to-br from-blue-400 via-purple-400 to-pink-400">
  <div id="app" class="min-h-full w-full relative"><!-- Elementos decorativos flotantes -->
   <div class="decorative-element text-4xl top-[5%] left-[5%] float" style="animation-delay: 0s;">
    ğŸ“š
   </div>
   <div class="decorative-element text-3xl top-[10%] right-[8%] float" style="animation-delay: 0.5s;">
    âœï¸
   </div>
   <div class="decorative-element text-4xl top-[20%] left-[3%] float" style="animation-delay: 1s;">
    ğŸ¨
   </div>
   <div class="decorative-element text-3xl bottom-[15%] right-[5%] float" style="animation-delay: 1.5s;">
    ğŸŒŸ
   </div>
   <div class="decorative-element text-4xl bottom-[10%] left-[8%] float" style="animation-delay: 2s;">
    ğŸ“
   </div>
   <div class="decorative-element text-3xl top-[40%] right-[3%] float" style="animation-delay: 0.3s;">
    ğŸ“
   </div>
   <div class="decorative-element text-4xl bottom-[30%] left-[2%] float" style="animation-delay: 0.8s;">
    ğŸ”¬
   </div>
   <div class="decorative-element text-3xl top-[60%] right-[6%] float" style="animation-delay: 1.3s;">
    ğŸŒ
   </div><!-- PANTALLA PRINCIPAL -->
   <div id="main-screen" class="min-h-full flex flex-col items-center justify-center p-4 relative z-10"><!-- Encabezado -->
    <div class="bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-6 md:p-8 mb-8 max-w-4xl w-full text-center border-4 border-yellow-400">
     <div class="flex justify-center mb-4"><span class="text-5xl md:text-6xl sparkle">ğŸ«</span>
     </div>
     <h1 id="main-title" class="title-font text-3xl md:text-5xl bg-gradient-to-r from-red-500 via-yellow-500 via-green-500 via-blue-500 to-purple-500 bg-clip-text text-transparent mb-3">MI AULA INTERACTIVA</h1>
     <h2 id="school-title" class="text-lg md:text-2xl font-bold text-blue-700 mb-2">ESC. PRIMARIA VENUSTIANO CARRANZA</h2>
     <p class="text-sm md:text-base text-gray-600 font-semibold">26DPR1320W â€¢ ZONA ESCOLAR 105</p>
     <div class="mt-4 pt-4 border-t-2 border-dashed border-pink-300">
      <p class="text-sm md:text-base text-pink-600 font-bold flex items-center justify-center gap-2"><span>ğŸ’–</span> <span id="teacher-title">ELABORADO CON AMOR POR LA MTRA. MARIA FERNANDA FLORES VALENZUELA</span> <span>ğŸ’–</span></p>
     </div>
    </div><!-- Botones de fase -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 max-w-4xl w-full px-4"><!-- Fase 3 --> <button onclick="selectPhase(3)" class="btn-phase bg-gradient-to-br from-green-400 to-green-600 text-white rounded-2xl p-5 md:p-6 flex flex-col items-center gap-2"> <span class="text-4xl md:text-5xl">ğŸŒ±</span> <span class="title-font text-xl md:text-2xl">FASE 3</span> <span class="text-xs md:text-sm opacity-90">1Â° y 2Â° Grado</span> <span class="text-2xl mt-1">ğŸ‘¶</span> </button> <!-- Fase 4 --> <button onclick="selectPhase(4)" class="btn-phase bg-gradient-to-br from-blue-400 to-blue-600 text-white rounded-2xl p-5 md:p-6 flex flex-col items-center gap-2"> <span class="text-4xl md:text-5xl">ğŸŒ¿</span> <span class="title-font text-xl md:text-2xl">FASE 4</span> <span class="text-xs md:text-sm opacity-90">3Â° y 4Â° Grado</span> <span class="text-2xl mt-1">ğŸ§’</span> </button> <!-- Fase 5 --> <button onclick="selectPhase(5)" class="btn-phase bg-gradient-to-br from-purple-400 to-purple-600 text-white rounded-2xl p-5 md:p-6 flex flex-col items-center gap-2"> <span class="text-4xl md:text-5xl">ğŸŒ³</span> <span class="title-font text-xl md:text-2xl">FASE 5</span> <span class="text-xs md:text-sm opacity-90">5Â° y 6Â° Grado</span> <span class="text-2xl mt-1">ğŸ‘¦</span> </button> <!-- InglÃ©s --> <button onclick="selectPhase('english')" class="btn-phase bg-gradient-to-br from-red-400 to-orange-500 text-white rounded-2xl p-5 md:p-6 flex flex-col items-center gap-2"> <span class="text-4xl md:text-5xl">ğŸ‡ºğŸ‡¸</span> <span class="title-font text-xl md:text-2xl">INGLÃ‰S</span> <span class="text-xs md:text-sm opacity-90">Vocabulario</span> <span class="text-2xl mt-1">ğŸ—£ï¸</span> </button>
    </div><!-- Instrucciones -->
    <div class="mt-8 bg-white/90 backdrop-blur-sm rounded-2xl p-4 md:p-6 max-w-2xl w-full mx-4 shadow-lg border-2 border-blue-300">
     <h3 class="title-font text-lg md:text-xl text-center text-blue-600 mb-3 flex items-center justify-center gap-2"><span>ğŸ“‹</span> INSTRUCCIONES <span>ğŸ“‹</span></h3>
     <ul class="text-sm md:text-base text-gray-700 space-y-2">
      <li class="flex items-start gap-2"><span>ğŸ¯</span> Selecciona tu nivel de aprendizaje</li>
      <li class="flex items-start gap-2"><span>â¤ï¸</span> Tienes 3 vidas para responder</li>
      <li class="flex items-start gap-2"><span>â±ï¸</span> Responde antes de que se acabe el tiempo</li>
      <li class="flex items-start gap-2"><span>ğŸ†</span> Â¡Acumula puntos y diviÃ©rtete aprendiendo!</li>
     </ul>
    </div>
   </div><!-- PANTALLA DE CATEGORÃAS -->
   <div id="category-screen" class="hidden min-h-full flex flex-col items-center justify-center p-4 relative z-10">
    <div class="bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-6 md:p-8 max-w-4xl w-full">
     <div class="flex items-center justify-between mb-6"><button onclick="goToMain()" class="bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-full p-3 transition-all"> <span class="text-xl">â¬…ï¸</span> </button>
      <h2 id="phase-title" class="title-font text-2xl md:text-3xl text-center bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">FASE 3 - Elige una categorÃ­a</h2>
      <div class="w-12"></div>
     </div>
     <div id="category-grid" class="grid grid-cols-2 md:grid-cols-3 gap-4"><!-- Las categorÃ­as se generan dinÃ¡micamente -->
     </div>
    </div>
   </div><!-- PANTALLA DE JUEGO -->
   <div id="game-screen" class="hidden min-h-full flex flex-col items-center p-4 relative z-10">
    <div class="bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-4 md:p-6 max-w-3xl w-full"><!-- Header del juego -->
     <div class="flex items-center justify-between mb-4 flex-wrap gap-2"><button onclick="goToCategories()" class="bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-full p-2 transition-all"> <span class="text-lg">â¬…ï¸</span> </button>
      <div id="lives-container" class="flex gap-1"><span class="life-heart text-2xl">â¤ï¸</span> <span class="life-heart text-2xl">â¤ï¸</span> <span class="life-heart text-2xl">â¤ï¸</span>
      </div>
      <div class="bg-gradient-to-r from-yellow-400 to-orange-400 text-white px-4 py-2 rounded-full font-bold flex items-center gap-2"><span>â­</span> <span id="score-display">0</span>
      </div>
     </div><!-- Barra de tiempo -->
     <div class="bg-gray-200 rounded-full h-4 mb-4 overflow-hidden">
      <div id="timer-bar" class="progress-bar bg-gradient-to-r from-green-400 to-green-600 h-full rounded-full" style="width: 100%;"></div>
     </div><!-- Contador de pregunta -->
     <div class="text-center mb-4"><span id="question-counter" class="bg-purple-100 text-purple-700 px-4 py-1 rounded-full text-sm font-bold"> Pregunta 1 de 10 </span>
     </div><!-- Contenedor de pregunta -->
     <div id="question-container" class="bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-5 md:p-6 mb-4 border-2 border-blue-200">
      <div id="category-badge" class="inline-block bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-bold mb-3">
       ğŸ“ MatemÃ¡ticas
      </div>
      <p id="question-text" class="text-lg md:text-xl font-bold text-gray-800 leading-relaxed">Â¿CuÃ¡nto es 2 + 2?</p>
     </div><!-- Opciones -->
     <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-3"><!-- Las opciones se generan dinÃ¡micamente -->
     </div><!-- Feedback -->
     <div id="feedback-container" class="hidden mt-4 p-4 rounded-2xl text-center">
      <p id="feedback-text" class="text-lg font-bold"></p>
      <p id="feedback-explanation" class="text-sm mt-2 opacity-80"></p>
     </div><!-- BotÃ³n siguiente --> <button id="next-btn" onclick="nextQuestion()" class="hidden w-full mt-4 bg-gradient-to-r from-blue-500 to-purple-500 text-white py-3 rounded-xl font-bold text-lg hover:from-blue-600 hover:to-purple-600 transition-all"> Siguiente â¡ï¸ </button>
    </div>
   </div><!-- PANTALLA DE RESULTADOS -->
   <div id="results-screen" class="hidden min-h-full flex flex-col items-center justify-center p-4 relative z-10">
    <div class="bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-6 md:p-8 max-w-lg w-full text-center">
     <div id="result-emoji" class="text-7xl md:text-8xl mb-4 celebrate">
      ğŸ†
     </div>
     <h2 id="result-title" class="title-font text-2xl md:text-3xl text-gray-800 mb-2">Â¡Excelente trabajo!</h2>
     <p id="result-message" class="text-gray-600 mb-6">Has completado el desafÃ­o</p>
     <div class="bg-gradient-to-br from-yellow-100 to-orange-100 rounded-2xl p-6 mb-6">
      <p class="text-sm text-gray-500 mb-1">Tu puntuaciÃ³n</p>
      <p id="final-score" class="title-font text-5xl text-orange-500">0</p>
      <p class="text-sm text-gray-500 mt-1">puntos</p>
     </div>
     <div class="grid grid-cols-2 gap-4 mb-6">
      <div class="bg-green-100 rounded-xl p-3">
       <p id="correct-count" class="title-font text-2xl text-green-600">0</p>
       <p class="text-xs text-gray-500">Correctas</p>
      </div>
      <div class="bg-red-100 rounded-xl p-3">
       <p id="incorrect-count" class="title-font text-2xl text-red-500">0</p>
       <p class="text-xs text-gray-500">Incorrectas</p>
      </div>
     </div>
     <div class="flex flex-col gap-3"><button onclick="playAgain()" class="bg-gradient-to-r from-green-400 to-green-600 text-white py-3 px-6 rounded-xl font-bold hover:from-green-500 hover:to-green-700 transition-all flex items-center justify-center gap-2"> <span>ğŸ”„</span> Jugar de nuevo </button> <button onclick="goToMain()" class="bg-gradient-to-r from-blue-400 to-blue-600 text-white py-3 px-6 rounded-xl font-bold hover:from-blue-500 hover:to-blue-700 transition-all flex items-center justify-center gap-2"> <span>ğŸ </span> MenÃº principal </button>
     </div>
    </div>
   </div><!-- PANTALLA DE GAME OVER -->
   <div id="gameover-screen" class="hidden min-h-full flex flex-col items-center justify-center p-4 relative z-10">
    <div class="bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-6 md:p-8 max-w-lg w-full text-center">
     <div class="text-7xl md:text-8xl mb-4">
      ğŸ’”
     </div>
     <h2 class="title-font text-2xl md:text-3xl text-gray-800 mb-2">Â¡Se acabaron las vidas!</h2>
     <p class="text-gray-600 mb-6">No te preocupes, Â¡puedes intentarlo de nuevo!</p>
     <div class="bg-gradient-to-br from-blue-100 to-purple-100 rounded-2xl p-6 mb-6">
      <p class="text-sm text-gray-500 mb-1">PuntuaciÃ³n alcanzada</p>
      <p id="gameover-score" class="title-font text-4xl text-purple-500">0</p>
     </div>
     <div class="flex flex-col gap-3"><button onclick="playAgain()" class="bg-gradient-to-r from-green-400 to-green-600 text-white py-3 px-6 rounded-xl font-bold hover:from-green-500 hover:to-green-700 transition-all flex items-center justify-center gap-2"> <span>ğŸ”„</span> Intentar de nuevo </button> <button onclick="goToMain()" class="bg-gradient-to-r from-blue-400 to-blue-600 text-white py-3 px-6 rounded-xl font-bold hover:from-blue-500 hover:to-blue-700 transition-all flex items-center justify-center gap-2"> <span>ğŸ </span> MenÃº principal </button>
     </div>
    </div>
   </div>
  </div>
  <script>
    // ============= CONFIGURACIÃ“N Y ESTADO DEL JUEGO =============
    const defaultConfig = {
      school_name: "ESC. PRIMARIA VENUSTIANO CARRANZA",
      teacher_name: "ELABORADO CON AMOR POR LA MTRA. MARIA FERNANDA FLORES VALENZUELA"
    };
    
    let gameState = {
      currentPhase: null,
      currentCategory: null,
      lives: 3,
      score: 0,
      questionIndex: 0,
      questions: [],
      correctAnswers: 0,
      incorrectAnswers: 0,
      timerInterval: null,
      timeLeft: 100
    };
    
    // ============= CATEGORÃAS =============
    const categories = {
      spanish: [
        { icon: "ğŸ“š", name: "EspaÃ±ol", color: "from-pink-400 to-pink-600" }
      ],
      math: [
        { icon: "ğŸ”¢", name: "MatemÃ¡ticas", color: "from-blue-400 to-blue-600" }
      ],
      science: [
        { icon: "ğŸ”¬", name: "Ciencias", color: "from-green-400 to-green-600" }
      ],
      geography: [
        { icon: "ğŸŒ", name: "GeografÃ­a", color: "from-teal-400 to-teal-600" }
      ],
      history: [
        { icon: "ğŸ“œ", name: "Historia", color: "from-amber-400 to-amber-600" }
      ],
      culture: [
        { icon: "ğŸ­", name: "Cultura", color: "from-purple-400 to-purple-600" }
      ],
      english: [
        { icon: "ğŸ‡ºğŸ‡¸", name: "English", color: "from-red-400 to-red-600" }
      ]
    };

    // ============= BASE DE DATOS DE PREGUNTAS =============
    
    // FASE 3 - 1Â° y 2Â° Grado (FÃ¡cil)
    const phase3Questions = {
      math: [
        { q: "Â¿CuÃ¡nto es 2 + 3?", options: ["4", "5", "6", "7"], correct: 1, explanation: "2 + 3 = 5" },
        { q: "Â¿CuÃ¡nto es 5 - 2?", options: ["2", "3", "4", "1"], correct: 1, explanation: "5 - 2 = 3" },
        { q: "Â¿CuÃ¡nto es 1 + 1?", options: ["1", "2", "3", "0"], correct: 1, explanation: "1 + 1 = 2" },
        { q: "Â¿CuÃ¡nto es 4 + 4?", options: ["6", "7", "8", "9"], correct: 2, explanation: "4 + 4 = 8" },
        { q: "Â¿CuÃ¡nto es 6 - 3?", options: ["2", "3", "4", "5"], correct: 1, explanation: "6 - 3 = 3" },
        { q: "Â¿CuÃ¡nto es 3 + 5?", options: ["7", "8", "9", "6"], correct: 1, explanation: "3 + 5 = 8" },
        { q: "Â¿QuÃ© nÃºmero sigue: 1, 2, 3, __?", options: ["5", "4", "6", "3"], correct: 1, explanation: "La secuencia aumenta de 1 en 1" },
        { q: "Â¿CuÃ¡nto es 10 - 5?", options: ["4", "5", "6", "3"], correct: 1, explanation: "10 - 5 = 5" },
        { q: "Â¿CuÃ¡ntas patas tiene un perro?", options: ["2", "3", "4", "6"], correct: 2, explanation: "Los perros tienen 4 patas" },
        { q: "Â¿CuÃ¡nto es 7 + 2?", options: ["8", "9", "10", "7"], correct: 1, explanation: "7 + 2 = 9" },
        { q: "Â¿QuÃ© nÃºmero es mayor: 5 o 3?", options: ["3", "5", "Son iguales", "No sÃ©"], correct: 1, explanation: "5 es mayor que 3" },
        { q: "Â¿CuÃ¡nto es 2 + 2 + 2?", options: ["4", "5", "6", "7"], correct: 2, explanation: "2 + 2 + 2 = 6" }
      ],
      spanish: [
        { q: "Â¿CuÃ¡ntas sÃ­labas tiene 'CASA'?", options: ["1", "2", "3", "4"], correct: 1, explanation: "CA-SA = 2 sÃ­labas" },
        { q: "Â¿Con quÃ© letra empieza 'MAMÃ'?", options: ["P", "M", "A", "S"], correct: 1, explanation: "MAMÃ empieza con M" },
        { q: "Completa: El ___ ladra.", options: ["gato", "perro", "pÃ¡jaro", "pez"], correct: 1, explanation: "El perro ladra" },
        { q: "Â¿QuÃ© vocal falta? M_SA", options: ["A", "E", "I", "O"], correct: 1, explanation: "MESA lleva E" },
        { q: "Â¿CuÃ¡ntas sÃ­labas tiene 'SOL'?", options: ["1", "2", "3", "4"], correct: 0, explanation: "SOL = 1 sÃ­laba" },
        { q: "Â¿Con quÃ© letra empieza 'ÃRBOL'?", options: ["A", "R", "B", "O"], correct: 0, explanation: "ÃRBOL empieza con A" },
        { q: "Completa: La ___ maÃºlla.", options: ["vaca", "gata", "gallina", "oveja"], correct: 1, explanation: "La gata maÃºlla" },
        { q: "Â¿CuÃ¡ntas vocales tiene 'AMOR'?", options: ["1", "2", "3", "4"], correct: 1, explanation: "AMOR tiene A y O = 2 vocales" },
        { q: "Â¿QuÃ© palabra rima con 'PATO'?", options: ["Mesa", "Gato", "Ãrbol", "Libro"], correct: 1, explanation: "PATO rima con GATO" },
        { q: "Completa: El sol sale por la ___.", options: ["noche", "tarde", "maÃ±ana", "luna"], correct: 2, explanation: "El sol sale por la maÃ±ana" },
        { q: "Â¿CuÃ¡l es una vocal?", options: ["B", "C", "E", "D"], correct: 2, explanation: "E es una vocal (A, E, I, O, U)" },
        { q: "Â¿Con quÃ© termina 'ESTRELLA'?", options: ["A", "E", "L", "R"], correct: 0, explanation: "ESTRELLA termina en A" }
      ],
      science: [
        { q: "Â¿QuÃ© animal tiene plumas?", options: ["Perro", "PÃ¡jaro", "Pez", "Gato"], correct: 1, explanation: "Los pÃ¡jaros tienen plumas" },
        { q: "Â¿De quÃ© color es el sol?", options: ["Azul", "Verde", "Amarillo", "Rojo"], correct: 2, explanation: "El sol se ve amarillo" },
        { q: "Â¿QuÃ© necesitan las plantas para vivir?", options: ["Piedras", "Agua", "Arena", "PlÃ¡stico"], correct: 1, explanation: "Las plantas necesitan agua" },
        { q: "Â¿DÃ³nde viven los peces?", options: ["En tierra", "En el aire", "En el agua", "En el fuego"], correct: 2, explanation: "Los peces viven en el agua" },
        { q: "Â¿CuÃ¡ntas patas tiene una araÃ±a?", options: ["4", "6", "8", "10"], correct: 2, explanation: "Las araÃ±as tienen 8 patas" },
        { q: "Â¿QuÃ© animal da leche?", options: ["Gallina", "Vaca", "Pez", "Serpiente"], correct: 1, explanation: "La vaca da leche" },
        { q: "Â¿De dÃ³nde viene la lluvia?", options: ["Del sol", "De las nubes", "Del mar", "Del suelo"], correct: 1, explanation: "La lluvia cae de las nubes" },
        { q: "Â¿QuÃ© animal pone huevos?", options: ["Perro", "Gato", "Gallina", "Vaca"], correct: 2, explanation: "La gallina pone huevos" },
        { q: "Â¿QuÃ© parte del cuerpo usamos para ver?", options: ["Orejas", "Nariz", "Ojos", "Boca"], correct: 2, explanation: "Vemos con los ojos" },
        { q: "Â¿CuÃ¡ntos sentidos tenemos?", options: ["3", "4", "5", "6"], correct: 2, explanation: "Tenemos 5 sentidos" },
        { q: "Â¿QuÃ© animal tiene rayas y vive en Ãfrica?", options: ["LeÃ³n", "Cebra", "Elefante", "Jirafa"], correct: 1, explanation: "La cebra tiene rayas" },
        { q: "Â¿De quÃ© color son las hojas de los Ã¡rboles?", options: ["Rojas", "Azules", "Verdes", "Moradas"], correct: 2, explanation: "Las hojas son verdes" }
      ],
      geography: [
        { q: "Â¿En quÃ© paÃ­s vivimos?", options: ["EspaÃ±a", "MÃ©xico", "Argentina", "Chile"], correct: 1, explanation: "Vivimos en MÃ©xico" },
        { q: "Â¿De quÃ© color es el mar?", options: ["Rojo", "Verde", "Azul", "Amarillo"], correct: 2, explanation: "El mar se ve azul" },
        { q: "Â¿QuÃ© hay mucho en el desierto?", options: ["Agua", "Arena", "Nieve", "Ãrboles"], correct: 1, explanation: "En el desierto hay mucha arena" },
        { q: "Â¿DÃ³nde hace mucho frÃ­o?", options: ["Desierto", "Playa", "Polo Norte", "Selva"], correct: 2, explanation: "En el Polo Norte hace mucho frÃ­o" },
        { q: "Â¿QuÃ© astro nos da luz de dÃ­a?", options: ["Luna", "Estrellas", "Sol", "Planetas"], correct: 2, explanation: "El Sol nos da luz de dÃ­a" },
        { q: "Â¿QuÃ© hay en las montaÃ±as altas?", options: ["Playa", "Nieve", "Desierto", "Mar"], correct: 1, explanation: "En las montaÃ±as altas hay nieve" },
        { q: "Â¿CÃ³mo se llama nuestro planeta?", options: ["Marte", "Venus", "Tierra", "JÃºpiter"], correct: 2, explanation: "Nuestro planeta es la Tierra" },
        { q: "Â¿QuÃ© tiene mucha agua?", options: ["Desierto", "OcÃ©ano", "MontaÃ±a", "Cueva"], correct: 1, explanation: "El ocÃ©ano tiene mucha agua" },
        { q: "Â¿DÃ³nde hay muchos Ã¡rboles juntos?", options: ["Desierto", "Bosque", "Playa", "Ciudad"], correct: 1, explanation: "En el bosque hay muchos Ã¡rboles" },
        { q: "Â¿QuÃ© vemos de noche en el cielo?", options: ["Sol", "Nubes blancas", "Estrellas", "ArcoÃ­ris"], correct: 2, explanation: "De noche vemos estrellas" }
      ],
      history: [
        { q: "Â¿QuÃ© celebramos el 16 de septiembre?", options: ["Navidad", "Independencia", "AÃ±o nuevo", "Pascua"], correct: 1, explanation: "El 16 de septiembre es la Independencia de MÃ©xico" },
        { q: "Â¿QuiÃ©n gritÃ³ 'Â¡Viva MÃ©xico!'?", options: ["JuÃ¡rez", "Hidalgo", "Morelos", "Zapata"], correct: 1, explanation: "Miguel Hidalgo dio el Grito de Independencia" },
        { q: "Â¿QuÃ© usaban los dinosaurios?", options: ["Ropa", "Nada", "Zapatos", "Sombreros"], correct: 1, explanation: "Los dinosaurios no usaban nada" },
        { q: "Â¿Hace cuÃ¡nto vivieron los dinosaurios?", options: ["Ayer", "Hace 100 aÃ±os", "Hace millones de aÃ±os", "Nunca existieron"], correct: 2, explanation: "Los dinosaurios vivieron hace millones de aÃ±os" },
        { q: "Â¿QuÃ© construyeron los mayas?", options: ["Castillos", "PirÃ¡mides", "Rascacielos", "Iglesias"], correct: 1, explanation: "Los mayas construyeron pirÃ¡mides" },
        { q: "Â¿De quÃ© color es la bandera de MÃ©xico (en medio)?", options: ["Rojo", "Verde", "Blanco", "Azul"], correct: 2, explanation: "En medio la bandera es blanca con el escudo" },
        { q: "Â¿CuÃ¡ntos colores tiene la bandera mexicana?", options: ["2", "3", "4", "5"], correct: 1, explanation: "La bandera tiene verde, blanco y rojo = 3 colores" },
        { q: "Â¿QuÃ© animal estÃ¡ en nuestra bandera?", options: ["LeÃ³n", "Ãguila", "Serpiente", "Jaguar"], correct: 1, explanation: "En la bandera hay un Ã¡guila comiendo una serpiente" },
        { q: "Â¿QuÃ© celebramos el 12 de diciembre?", options: ["Navidad", "DÃ­a de Muertos", "Virgen de Guadalupe", "Independencia"], correct: 2, explanation: "El 12 de diciembre es el dÃ­a de la Virgen de Guadalupe" },
        { q: "Â¿CuÃ¡ndo es el DÃ­a de Muertos?", options: ["31 de octubre", "1 y 2 de noviembre", "25 de diciembre", "14 de febrero"], correct: 1, explanation: "El DÃ­a de Muertos es el 1 y 2 de noviembre" }
      ],
      culture: [
        { q: "Â¿QuÃ© comemos el DÃ­a de Muertos?", options: ["Pastel", "Pan de muerto", "Pizza", "Hamburguesa"], correct: 1, explanation: "Comemos pan de muerto" },
        { q: "Â¿De quÃ© color son las flores de cempasÃºchil?", options: ["Rojas", "Azules", "Naranjas", "Moradas"], correct: 2, explanation: "El cempasÃºchil es naranja" },
        { q: "Â¿QuÃ© rompemos en las posadas?", options: ["PiÃ±ata", "Globos", "Platos", "Vasos"], correct: 0, explanation: "Rompemos piÃ±atas en las posadas" },
        { q: "Â¿QuÃ© comida tÃ­pica mexicana es redonda?", options: ["Sopa", "Tortilla", "Pan", "Arroz"], correct: 1, explanation: "La tortilla es redonda" },
        { q: "Â¿QuÃ© sombrero es tÃ­pico de MÃ©xico?", options: ["Gorra", "Boina", "Sombrero de charro", "Casco"], correct: 2, explanation: "El sombrero de charro es tÃ­pico de MÃ©xico" },
        { q: "Â¿Con quÃ© hacemos tamales?", options: ["Trigo", "Arroz", "MaÃ­z", "Papa"], correct: 2, explanation: "Los tamales se hacen de maÃ­z" },
        { q: "Â¿QuÃ© bebida mexicana es de chocolate?", options: ["CafÃ©", "Atole de chocolate", "Jugo", "Refresco"], correct: 1, explanation: "El atole de chocolate es tradicional" },
        { q: "Â¿QuÃ© instrumento se toca en un mariachi?", options: ["BaterÃ­a", "Piano", "Trompeta", "Flauta"], correct: 2, explanation: "La trompeta es parte del mariachi" },
        { q: "Â¿De quÃ© estÃ¡n hechas las calaveritas dulces?", options: ["Chocolate", "AzÃºcar", "Chicle", "Miel"], correct: 1, explanation: "Las calaveritas son de azÃºcar" },
        { q: "Â¿QuÃ© ponemos en la ofrenda del DÃ­a de Muertos?", options: ["Regalos", "Flores y comida", "Juguetes", "Ropa"], correct: 1, explanation: "Ponemos flores, comida y fotos en la ofrenda" }
      ]
    };

    // FASE 4 - 3Â° y 4Â° Grado (Medio)
    const phase4Questions = {
      math: [
        { q: "Â¿CuÃ¡nto es 15 + 27?", options: ["32", "42", "52", "62"], correct: 1, explanation: "15 + 27 = 42" },
        { q: "Â¿CuÃ¡nto es 8 Ã— 7?", options: ["54", "56", "58", "60"], correct: 1, explanation: "8 Ã— 7 = 56" },
        { q: "Â¿CuÃ¡nto es 100 - 45?", options: ["45", "55", "65", "75"], correct: 1, explanation: "100 - 45 = 55" },
        { q: "Â¿CuÃ¡nto es 36 Ã· 6?", options: ["4", "5", "6", "7"], correct: 2, explanation: "36 Ã· 6 = 6" },
        { q: "Â¿CuÃ¡nto es 9 Ã— 9?", options: ["72", "81", "90", "99"], correct: 1, explanation: "9 Ã— 9 = 81" },
        { q: "Â¿CuÃ¡nto es 250 + 175?", options: ["325", "375", "425", "475"], correct: 2, explanation: "250 + 175 = 425" },
        { q: "Â¿QuÃ© nÃºmero es 1/2 de 100?", options: ["25", "50", "75", "100"], correct: 1, explanation: "La mitad de 100 es 50" },
        { q: "Â¿CuÃ¡nto es 7 Ã— 8?", options: ["54", "56", "58", "64"], correct: 1, explanation: "7 Ã— 8 = 56" },
        { q: "Â¿CuÃ¡ntos minutos hay en 1 hora?", options: ["30", "45", "60", "90"], correct: 2, explanation: "1 hora = 60 minutos" },
        { q: "Â¿CuÃ¡nto es 144 Ã· 12?", options: ["10", "11", "12", "13"], correct: 2, explanation: "144 Ã· 12 = 12" },
        { q: "Â¿CuÃ¡l es el doble de 35?", options: ["60", "65", "70", "75"], correct: 2, explanation: "35 Ã— 2 = 70" },
        { q: "Â¿CuÃ¡nto es 6 Ã— 6 + 4?", options: ["36", "38", "40", "42"], correct: 2, explanation: "6 Ã— 6 = 36, + 4 = 40" }
      ],
      spanish: [
        { q: "Â¿CuÃ¡l es el sinÃ³nimo de 'feliz'?", options: ["Triste", "Contento", "Enojado", "Cansado"], correct: 1, explanation: "Feliz y contento significan lo mismo" },
        { q: "Â¿QuÃ© es un sustantivo?", options: ["AcciÃ³n", "Cualidad", "Nombre de algo", "UniÃ³n"], correct: 2, explanation: "El sustantivo nombra personas, animales o cosas" },
        { q: "Â¿CuÃ¡l es el antÃ³nimo de 'grande'?", options: ["Enorme", "PequeÃ±o", "Alto", "Gordo"], correct: 1, explanation: "El antÃ³nimo de grande es pequeÃ±o" },
        { q: "Â¿CuÃ¡ntas sÃ­labas tiene 'mariposa'?", options: ["2", "3", "4", "5"], correct: 2, explanation: "Ma-ri-po-sa = 4 sÃ­labas" },
        { q: "Â¿QuÃ© signo va al final de una pregunta?", options: [".", ",", "?", "!"], correct: 2, explanation: "Las preguntas terminan con Â¿?" },
        { q: "En 'El niÃ±o corre', Â¿cuÃ¡l es el verbo?", options: ["El", "niÃ±o", "corre", "Ninguno"], correct: 2, explanation: "Corre es el verbo (acciÃ³n)" },
        { q: "Â¿QuÃ© palabra estÃ¡ bien escrita?", options: ["Aver", "Haver", "Aber", "Haber"], correct: 3, explanation: "Se escribe 'haber' con h y b" },
        { q: "Â¿CuÃ¡l es el plural de 'lÃ¡piz'?", options: ["LÃ¡pizes", "LÃ¡pices", "LÃ¡piz", "Lapices"], correct: 1, explanation: "El plural de lÃ¡piz es lÃ¡pices" },
        { q: "Completa: 'MarÃ­a ____ a la escuela'", options: ["van", "vamos", "va", "voy"], correct: 2, explanation: "MarÃ­a va (tercera persona singular)" },
        { q: "Â¿QuÃ© tipo de palabra es 'rÃ¡pidamente'?", options: ["Sustantivo", "Verbo", "Adjetivo", "Adverbio"], correct: 3, explanation: "RÃ¡pidamente es un adverbio" },
        { q: "Â¿CuÃ¡l palabra tiene diptongo?", options: ["Marea", "Cielo", "Poema", "Caos"], correct: 1, explanation: "Cielo tiene diptongo (ie)" },
        { q: "Â¿QuÃ© palabra es aguda?", options: ["Ãrbol", "Mesa", "CanciÃ³n", "BrÃºjula"], correct: 2, explanation: "CanciÃ³n es aguda (acento en Ãºltima sÃ­laba)" }
      ],
      science: [
        { q: "Â¿CuÃ¡l es el planeta mÃ¡s grande del Sistema Solar?", options: ["Marte", "Saturno", "JÃºpiter", "Neptuno"], correct: 2, explanation: "JÃºpiter es el planeta mÃ¡s grande" },
        { q: "Â¿QuÃ© Ã³rgano bombea la sangre?", options: ["Pulmones", "EstÃ³mago", "CorazÃ³n", "Cerebro"], correct: 2, explanation: "El corazÃ³n bombea la sangre" },
        { q: "Â¿CuÃ¡ntos huesos tiene un adulto aproximadamente?", options: ["106", "156", "206", "306"], correct: 2, explanation: "Un adulto tiene aproximadamente 206 huesos" },
        { q: "Â¿QuÃ© gas necesitamos para respirar?", options: ["NitrÃ³geno", "OxÃ­geno", "DiÃ³xido de carbono", "HidrÃ³geno"], correct: 1, explanation: "Necesitamos oxÃ­geno para respirar" },
        { q: "Â¿QuÃ© producen las plantas durante la fotosÃ­ntesis?", options: ["Agua", "OxÃ­geno", "DiÃ³xido de carbono", "NitrÃ³geno"], correct: 1, explanation: "Las plantas producen oxÃ­geno" },
        { q: "Â¿CuÃ¡ntos planetas hay en el Sistema Solar?", options: ["7", "8", "9", "10"], correct: 1, explanation: "Hay 8 planetas en el Sistema Solar" },
        { q: "Â¿QuÃ© tipo de animal es la ballena?", options: ["Pez", "Anfibio", "MamÃ­fero", "Reptil"], correct: 2, explanation: "La ballena es un mamÃ­fero marino" },
        { q: "Â¿CuÃ¡l es el Ã³rgano mÃ¡s grande del cuerpo?", options: ["HÃ­gado", "Cerebro", "Piel", "Intestino"], correct: 2, explanation: "La piel es el Ã³rgano mÃ¡s grande" },
        { q: "Â¿QuÃ© parte de la planta absorbe el agua?", options: ["Hojas", "Tallo", "RaÃ­z", "Flores"], correct: 2, explanation: "La raÃ­z absorbe el agua" },
        { q: "Â¿QuÃ© animal es un anfibio?", options: ["Serpiente", "Rana", "Tortuga", "Lagartija"], correct: 1, explanation: "La rana es un anfibio" },
        { q: "Â¿CuÃ¡l es el satÃ©lite natural de la Tierra?", options: ["El Sol", "Marte", "La Luna", "Venus"], correct: 2, explanation: "La Luna es nuestro satÃ©lite natural" },
        { q: "Â¿QuÃ© sistema controla el cuerpo?", options: ["Digestivo", "Nervioso", "Circulatorio", "Respiratorio"], correct: 1, explanation: "El sistema nervioso controla el cuerpo" }
      ],
      geography: [
        { q: "Â¿CuÃ¡l es la capital de MÃ©xico?", options: ["Guadalajara", "Monterrey", "Ciudad de MÃ©xico", "CancÃºn"], correct: 2, explanation: "La capital de MÃ©xico es la Ciudad de MÃ©xico" },
        { q: "Â¿CuÃ¡ntos estados tiene MÃ©xico?", options: ["30", "31", "32", "33"], correct: 2, explanation: "MÃ©xico tiene 32 estados (incluyendo CDMX)" },
        { q: "Â¿QuÃ© ocÃ©ano estÃ¡ al oeste de MÃ©xico?", options: ["AtlÃ¡ntico", "Ãndico", "PacÃ­fico", "Ãrtico"], correct: 2, explanation: "El OcÃ©ano PacÃ­fico estÃ¡ al oeste" },
        { q: "Â¿CuÃ¡l es el rÃ­o mÃ¡s largo de MÃ©xico?", options: ["RÃ­o Lerma", "RÃ­o Bravo", "RÃ­o Balsas", "RÃ­o Grijalva"], correct: 1, explanation: "El RÃ­o Bravo es el mÃ¡s largo" },
        { q: "Â¿Con quÃ© paÃ­s limita MÃ©xico al norte?", options: ["Guatemala", "Estados Unidos", "Belice", "Cuba"], correct: 1, explanation: "MÃ©xico limita con Estados Unidos al norte" },
        { q: "Â¿CuÃ¡l es el volcÃ¡n mÃ¡s alto de MÃ©xico?", options: ["PopocatÃ©petl", "IztaccÃ­huatl", "Pico de Orizaba", "Nevado de Toluca"], correct: 2, explanation: "El Pico de Orizaba es el mÃ¡s alto" },
        { q: "Â¿En quÃ© continente estÃ¡ MÃ©xico?", options: ["Europa", "Asia", "AmÃ©rica", "Ãfrica"], correct: 2, explanation: "MÃ©xico estÃ¡ en AmÃ©rica del Norte" },
        { q: "Â¿QuÃ© penÃ­nsula estÃ¡ en el sureste de MÃ©xico?", options: ["Baja California", "De YucatÃ¡n", "IbÃ©rica", "Florida"], correct: 1, explanation: "La PenÃ­nsula de YucatÃ¡n estÃ¡ en el sureste" },
        { q: "Â¿CuÃ¡l es el golfo que baÃ±a el este de MÃ©xico?", options: ["Golfo PÃ©rsico", "Golfo de California", "Golfo de MÃ©xico", "Golfo de Bengala"], correct: 2, explanation: "El Golfo de MÃ©xico estÃ¡ al este" },
        { q: "Â¿QuÃ© estado es famoso por sus playas en el Caribe?", options: ["Sonora", "Chihuahua", "Quintana Roo", "Jalisco"], correct: 2, explanation: "Quintana Roo tiene playas en el Caribe" },
        { q: "Â¿CuÃ¡l es el desierto mÃ¡s grande de MÃ©xico?", options: ["Sonorense", "De Chihuahua", "De VizcaÃ­no", "Altar"], correct: 1, explanation: "El Desierto de Chihuahua es el mÃ¡s grande" },
        { q: "Â¿QuÃ© sierra atraviesa el oeste de MÃ©xico?", options: ["Sierra Madre Oriental", "Sierra Madre Occidental", "Sierra Negra", "Sierra de JuÃ¡rez"], correct: 1, explanation: "La Sierra Madre Occidental estÃ¡ al oeste" }
      ],
      history: [
        { q: "Â¿En quÃ© aÃ±o comenzÃ³ la Independencia de MÃ©xico?", options: ["1810", "1821", "1910", "1521"], correct: 0, explanation: "La Independencia comenzÃ³ en 1810" },
        { q: "Â¿QuiÃ©n fue el Ãºltimo emperador azteca?", options: ["Moctezuma", "CuauhtÃ©moc", "CuitlÃ¡huac", "AxayÃ¡catl"], correct: 1, explanation: "CuauhtÃ©moc fue el Ãºltimo emperador azteca" },
        { q: "Â¿QuÃ© civilizaciÃ³n construyÃ³ ChichÃ©n ItzÃ¡?", options: ["Azteca", "Olmeca", "Maya", "Zapoteca"], correct: 2, explanation: "Los mayas construyeron ChichÃ©n ItzÃ¡" },
        { q: "Â¿QuiÃ©n fue Benito JuÃ¡rez?", options: ["Rey", "Conquistador", "Presidente", "Virrey"], correct: 2, explanation: "Benito JuÃ¡rez fue presidente de MÃ©xico" },
        { q: "Â¿En quÃ© aÃ±o llegaron los espaÃ±oles a MÃ©xico?", options: ["1419", "1492", "1519", "1619"], correct: 2, explanation: "HernÃ¡n CortÃ©s llegÃ³ en 1519" },
        { q: "Â¿QuÃ© celebramos el 5 de mayo?", options: ["Independencia", "Batalla de Puebla", "RevoluciÃ³n", "ConstituciÃ³n"], correct: 1, explanation: "El 5 de mayo celebramos la Batalla de Puebla" },
        { q: "Â¿QuiÃ©n fue Miguel Hidalgo?", options: ["Rey", "Sacerdote", "Conquistador", "CientÃ­fico"], correct: 1, explanation: "Miguel Hidalgo fue un sacerdote que iniciÃ³ la Independencia" },
        { q: "Â¿QuÃ© evento comenzÃ³ en 1910?", options: ["Independencia", "Conquista", "RevoluciÃ³n Mexicana", "Reforma"], correct: 2, explanation: "La RevoluciÃ³n Mexicana comenzÃ³ en 1910" },
        { q: "Â¿QuÃ© cultura creÃ³ cabezas colosales de piedra?", options: ["Maya", "Azteca", "Olmeca", "Tolteca"], correct: 2, explanation: "Los olmecas crearon las cabezas colosales" },
        { q: "Â¿CuÃ¡l era el nombre azteca de la Ciudad de MÃ©xico?", options: ["TeotihuacÃ¡n", "Tenochtitlan", "Tlatelolco", "Texcoco"], correct: 1, explanation: "Se llamaba Tenochtitlan" },
        { q: "Â¿QuiÃ©n fue Emiliano Zapata?", options: ["Presidente", "Revolucionario", "Conquistador", "Virrey"], correct: 1, explanation: "Zapata fue un lÃ­der revolucionario" },
        { q: "Â¿QuÃ© sÃ­mbolo aparece en la bandera segÃºn la leyenda azteca?", options: ["LeÃ³n", "Ãguila y serpiente", "Jaguar", "Quetzal"], correct: 1, explanation: "El Ã¡guila devorando una serpiente" }
      ],
      culture: [
        { q: "Â¿QuÃ© baile tÃ­pico es de Jalisco?", options: ["DanzÃ³n", "Jarabe tapatÃ­o", "Cumbia", "Salsa"], correct: 1, explanation: "El jarabe tapatÃ­o es de Jalisco" },
        { q: "Â¿QuÃ© ingrediente es base de la cocina mexicana?", options: ["Arroz", "Trigo", "MaÃ­z", "Papa"], correct: 2, explanation: "El maÃ­z es base de la cocina mexicana" },
        { q: "Â¿QuÃ© artista mexicana pintÃ³ autorretratos?", options: ["Diego Rivera", "Frida Kahlo", "Rufino Tamayo", "JosÃ© Clemente Orozco"], correct: 1, explanation: "Frida Kahlo es famosa por sus autorretratos" },
        { q: "Â¿QuÃ© es el mole?", options: ["Bebida", "Salsa", "Pan", "Postre"], correct: 1, explanation: "El mole es una salsa tradicional mexicana" },
        { q: "Â¿De dÃ³nde es originario el tequila?", options: ["Oaxaca", "Jalisco", "MichoacÃ¡n", "Puebla"], correct: 1, explanation: "El tequila es originario de Jalisco" },
        { q: "Â¿QuÃ© es un alebrije?", options: ["Comida", "ArtesanÃ­a fantÃ¡stica", "Baile", "Instrumento"], correct: 1, explanation: "Los alebrijes son artesanÃ­as de criaturas fantÃ¡sticas" },
        { q: "Â¿QuÃ© premio Nobel ganÃ³ Octavio Paz?", options: ["FÃ­sica", "Paz", "Literatura", "QuÃ­mica"], correct: 2, explanation: "Octavio Paz ganÃ³ el Nobel de Literatura" },
        { q: "Â¿QuÃ© es la Guelaguetza?", options: ["Comida", "Baile", "Fiesta tradicional", "ArtesanÃ­a"], correct: 2, explanation: "La Guelaguetza es una fiesta de Oaxaca" },
        { q: "Â¿QuÃ© instrumento es tÃ­pico del mariachi?", options: ["AcordeÃ³n", "ViolÃ­n", "Tambor", "Flauta"], correct: 1, explanation: "El violÃ­n es tÃ­pico del mariachi" },
        { q: "Â¿De quÃ© estado es el pozole?", options: ["YucatÃ¡n", "Guerrero", "Sonora", "Tabasco"], correct: 1, explanation: "El pozole es tradicional de Guerrero" },
        { q: "Â¿QuÃ© es un sarape?", options: ["Sombrero", "Manta colorida", "Zapato", "Comida"], correct: 1, explanation: "El sarape es una manta colorida tÃ­pica" },
        { q: "Â¿QuiÃ©n escribiÃ³ 'Pedro PÃ¡ramo'?", options: ["Carlos Fuentes", "Juan Rulfo", "Elena Poniatowska", "Laura Esquivel"], correct: 1, explanation: "Juan Rulfo escribiÃ³ Pedro PÃ¡ramo" }
      ]
    };

    // FASE 5 - 5Â° y 6Â° Grado (DifÃ­cil)
    const phase5Questions = {
      math: [
        { q: "Â¿CuÃ¡nto es 15% de 200?", options: ["20", "25", "30", "35"], correct: 2, explanation: "15% de 200 = 200 Ã— 0.15 = 30" },
        { q: "Â¿CuÃ¡l es el MCD de 24 y 36?", options: ["6", "8", "12", "18"], correct: 2, explanation: "MCD(24, 36) = 12" },
        { q: "Â¿CuÃ¡nto es 3Â² + 4Â²?", options: ["12", "25", "49", "7"], correct: 1, explanation: "9 + 16 = 25" },
        { q: "Si x + 5 = 12, Â¿cuÃ¡nto vale x?", options: ["5", "6", "7", "8"], correct: 2, explanation: "x = 12 - 5 = 7" },
        { q: "Â¿CuÃ¡nto es 2/3 + 1/6?", options: ["3/6", "4/6", "5/6", "6/6"], correct: 2, explanation: "4/6 + 1/6 = 5/6" },
        { q: "Â¿CuÃ¡l es el Ã¡rea de un cuadrado de lado 8 cm?", options: ["32 cmÂ²", "64 cmÂ²", "16 cmÂ²", "48 cmÂ²"], correct: 1, explanation: "Ãrea = 8Â² = 64 cmÂ²" },
        { q: "Â¿CuÃ¡nto es âˆš144?", options: ["11", "12", "13", "14"], correct: 1, explanation: "âˆš144 = 12" },
        { q: "Â¿CuÃ¡ntos grados tiene un triÃ¡ngulo?", options: ["90Â°", "180Â°", "270Â°", "360Â°"], correct: 1, explanation: "Los Ã¡ngulos de un triÃ¡ngulo suman 180Â°" },
        { q: "Â¿CuÃ¡nto es 0.25 Ã— 40?", options: ["8", "10", "12", "15"], correct: 1, explanation: "0.25 Ã— 40 = 10" },
        { q: "Â¿CuÃ¡l es el mcm de 4 y 6?", options: ["8", "10", "12", "24"], correct: 2, explanation: "mcm(4, 6) = 12" },
        { q: "Si 3x = 27, Â¿cuÃ¡nto vale x?", options: ["6", "7", "8", "9"], correct: 3, explanation: "x = 27 Ã· 3 = 9" },
        { q: "Â¿CuÃ¡nto es 5Â³?", options: ["15", "25", "125", "625"], correct: 2, explanation: "5Â³ = 5 Ã— 5 Ã— 5 = 125" }
      ],
      spanish: [
        { q: "Â¿QuÃ© figura retÃ³rica es 'sus ojos eran dos luceros'?", options: ["SÃ­mil", "MetÃ¡fora", "HipÃ©rbole", "PersonificaciÃ³n"], correct: 1, explanation: "Es metÃ¡fora porque dice que son luceros, no que parecen" },
        { q: "Â¿QuÃ© tipo de texto narra hechos reales?", options: ["Cuento", "FÃ¡bula", "CrÃ³nica", "Leyenda"], correct: 2, explanation: "La crÃ³nica narra hechos reales" },
        { q: "Â¿CuÃ¡l es el sujeto en 'Los pÃ¡jaros cantan al amanecer'?", options: ["Cantan", "Al amanecer", "Los pÃ¡jaros", "Amanecer"], correct: 2, explanation: "El sujeto es 'Los pÃ¡jaros'" },
        { q: "Â¿QuÃ© es una palabra esdrÃºjula?", options: ["Acento en Ãºltima sÃ­laba", "Acento en penÃºltima", "Acento en antepenÃºltima", "Sin acento"], correct: 2, explanation: "Las esdrÃºjulas llevan acento en la antepenÃºltima sÃ­laba" },
        { q: "Â¿QuÃ© tipo de narrador conoce todo?", options: ["Protagonista", "Testigo", "Omnisciente", "En segunda persona"], correct: 2, explanation: "El narrador omnisciente lo sabe todo" },
        { q: "Â¿CuÃ¡l palabra es un verbo en infinitivo?", options: ["Corriendo", "CorrÃ­", "Correr", "Corro"], correct: 2, explanation: "Correr es infinitivo (terminaciÃ³n -ar, -er, -ir)" },
        { q: "Â¿QuÃ© es una oraciÃ³n compuesta?", options: ["Con un verbo", "Con dos o mÃ¡s verbos", "Sin verbo", "Solo sustantivos"], correct: 1, explanation: "Tiene dos o mÃ¡s verbos conjugados" },
        { q: "Â¿CuÃ¡l es el complemento directo en 'Juan come manzanas'?", options: ["Juan", "Come", "Manzanas", "No tiene"], correct: 2, explanation: "Manzanas es el complemento directo" },
        { q: "Â¿QuÃ© es un palÃ­ndromo?", options: ["Palabra con acento", "Se lee igual al revÃ©s", "Rima consonante", "Palabra compuesta"], correct: 1, explanation: "Un palÃ­ndromo se lee igual al revÃ©s (ej: 'oso')" },
        { q: "Â¿QuÃ© funciÃ³n tiene el adjetivo?", options: ["Nombrar", "Calificar al sustantivo", "Indicar acciÃ³n", "Unir palabras"], correct: 1, explanation: "El adjetivo califica o describe al sustantivo" },
        { q: "Â¿QuÃ© es un hiato?", options: ["Dos vocales juntas separadas", "Dos consonantes", "Acento prosÃ³dico", "Rima asonante"], correct: 0, explanation: "El hiato separa dos vocales en sÃ­labas distintas" },
        { q: "Â¿CuÃ¡l oraciÃ³n estÃ¡ en voz pasiva?", options: ["Juan escribiÃ³ el libro", "El libro fue escrito por Juan", "EscribiÃ³ el libro", "Juan escribe"], correct: 1, explanation: "En voz pasiva el sujeto recibe la acciÃ³n" }
      ],
      science: [
        { q: "Â¿QuÃ© es la fotosÃ­ntesis?", options: ["RespiraciÃ³n celular", "Proceso para hacer alimento con luz", "DivisiÃ³n celular", "ReproducciÃ³n"], correct: 1, explanation: "La fotosÃ­ntesis convierte luz solar en alimento" },
        { q: "Â¿CuÃ¡l es la unidad bÃ¡sica de los seres vivos?", options: ["Ãtomo", "MolÃ©cula", "CÃ©lula", "Tejido"], correct: 2, explanation: "La cÃ©lula es la unidad bÃ¡sica de la vida" },
        { q: "Â¿QuÃ© tipo de energÃ­a tiene un objeto en movimiento?", options: ["Potencial", "CinÃ©tica", "TÃ©rmica", "QuÃ­mica"], correct: 1, explanation: "La energÃ­a cinÃ©tica es energÃ­a de movimiento" },
        { q: "Â¿CuÃ¡l es el gas mÃ¡s abundante en la atmÃ³sfera?", options: ["OxÃ­geno", "DiÃ³xido de carbono", "NitrÃ³geno", "ArgÃ³n"], correct: 2, explanation: "El nitrÃ³geno compone el 78% de la atmÃ³sfera" },
        { q: "Â¿QuÃ© es el ADN?", options: ["ProteÃ­na", "Material genÃ©tico", "Carbohidrato", "LÃ­pido"], correct: 1, explanation: "El ADN contiene la informaciÃ³n genÃ©tica" },
        { q: "Â¿CuÃ¡ntos cromosomas tiene el ser humano?", options: ["23", "46", "48", "92"], correct: 1, explanation: "Los humanos tenemos 46 cromosomas (23 pares)" },
        { q: "Â¿QuÃ© capa de la Tierra estÃ¡ fundida?", options: ["Corteza", "Manto", "NÃºcleo externo", "NÃºcleo interno"], correct: 2, explanation: "El nÃºcleo externo estÃ¡ en estado lÃ­quido" },
        { q: "Â¿QuÃ© causa las estaciones del aÃ±o?", options: ["Distancia al Sol", "InclinaciÃ³n de la Tierra", "La Luna", "Las nubes"], correct: 1, explanation: "La inclinaciÃ³n del eje terrestre causa las estaciones" },
        { q: "Â¿QuÃ© sistema elimina desechos del cuerpo?", options: ["Digestivo", "Circulatorio", "Excretor", "Nervioso"], correct: 2, explanation: "El sistema excretor elimina desechos" },
        { q: "Â¿QuÃ© es un ecosistema?", options: ["Un animal", "Comunidad de seres vivos y su ambiente", "Solo plantas", "El clima"], correct: 1, explanation: "Es la comunidad de seres vivos y su entorno fÃ­sico" },
        { q: "Â¿CuÃ¡l es la velocidad de la luz aproximadamente?", options: ["300 km/s", "3,000 km/s", "300,000 km/s", "3,000,000 km/s"], correct: 2, explanation: "La luz viaja a ~300,000 km/s" },
        { q: "Â¿QuÃ© es la cadena alimenticia?", options: ["Tipo de planta", "Flujo de energÃ­a entre organismos", "Un animal", "Tipo de cÃ©lula"], correct: 1, explanation: "Es el flujo de energÃ­a de un organismo a otro" }
      ],
      geography: [
        { q: "Â¿CuÃ¡les son las coordenadas geogrÃ¡ficas?", options: ["Norte y Sur", "Latitud y Longitud", "Este y Oeste", "Arriba y Abajo"], correct: 1, explanation: "Latitud y longitud ubican puntos en la Tierra" },
        { q: "Â¿QuÃ© es el meridiano de Greenwich?", options: ["Paralelo 0Â°", "Meridiano 0Â°", "TrÃ³pico de CÃ¡ncer", "Ecuador"], correct: 1, explanation: "El meridiano de Greenwich es la longitud 0Â°" },
        { q: "Â¿CuÃ¡l es el continente mÃ¡s grande?", options: ["Ãfrica", "AmÃ©rica", "Asia", "Europa"], correct: 2, explanation: "Asia es el continente mÃ¡s grande" },
        { q: "Â¿QuÃ© es una meseta?", options: ["Llanura elevada", "MontaÃ±a", "Valle", "DepresiÃ³n"], correct: 0, explanation: "Una meseta es una llanura elevada" },
        { q: "Â¿CuÃ¡ntos ocÃ©anos hay?", options: ["3", "4", "5", "6"], correct: 2, explanation: "Hay 5 ocÃ©anos: PacÃ­fico, AtlÃ¡ntico, Ãndico, Ãrtico y AntÃ¡rtico" },
        { q: "Â¿QuÃ© es el PIB?", options: ["Producto de exportaciÃ³n", "Producto Interno Bruto", "Precio del dÃ³lar", "PoblaciÃ³n total"], correct: 1, explanation: "PIB = Producto Interno Bruto (valor de bienes y servicios)" },
        { q: "Â¿CuÃ¡l es la lÃ­nea que divide la Tierra en hemisferios Norte y Sur?", options: ["Meridiano", "Ecuador", "TrÃ³pico", "Polo"], correct: 1, explanation: "El Ecuador divide la Tierra en Norte y Sur" },
        { q: "Â¿QuÃ© tipo de clima tiene la selva?", options: ["DesÃ©rtico", "Templado", "Tropical", "Polar"], correct: 2, explanation: "Las selvas tienen clima tropical, cÃ¡lido y hÃºmedo" },
        { q: "Â¿CuÃ¡l es el paÃ­s mÃ¡s poblado del mundo?", options: ["Estados Unidos", "India", "China", "Indonesia"], correct: 2, explanation: "China es el paÃ­s mÃ¡s poblado (aunque India estÃ¡ muy cerca)" },
        { q: "Â¿QuÃ© es un delta?", options: ["MontaÃ±a", "DepÃ³sito de sedimentos en desembocadura", "Lago", "Isla"], correct: 1, explanation: "Un delta se forma donde un rÃ­o desemboca" },
        { q: "Â¿CuÃ¡l es el rÃ­o mÃ¡s largo del mundo?", options: ["Amazonas", "Nilo", "YangtsÃ©", "Misisipi"], correct: 1, explanation: "El rÃ­o Nilo es considerado el mÃ¡s largo (~6,650 km)" },
        { q: "Â¿QuÃ© son las placas tectÃ³nicas?", options: ["Tipos de rocas", "Fragmentos de la corteza terrestre", "Capas del manto", "MontaÃ±as submarinas"], correct: 1, explanation: "Son fragmentos de la corteza que se mueven" }
      ],
      history: [
        { q: "Â¿QuÃ© tratado puso fin a la Guerra de Reforma?", options: ["De Guadalupe", "McLane-Ocampo", "Tratados de Teoloyucan", "Plan de Ayutla"], correct: 2, explanation: "Los Tratados de Teoloyucan terminaron con la intervenciÃ³n" },
        { q: "Â¿QuiÃ©n fue Porfirio DÃ­az?", options: ["Revolucionario", "Dictador de 30 aÃ±os", "Emperador", "Rey"], correct: 1, explanation: "Porfirio DÃ­az gobernÃ³ MÃ©xico por mÃ¡s de 30 aÃ±os" },
        { q: "Â¿QuÃ© estableciÃ³ la ConstituciÃ³n de 1917?", options: ["MonarquÃ­a", "Derechos sociales", "Porfiriato", "Virreinato"], correct: 1, explanation: "EstableciÃ³ derechos laborales, agrarios y educativos" },
        { q: "Â¿QuÃ© fue el Plan de Ayala?", options: ["Plan de gobierno", "Reforma agraria de Zapata", "Tratado de paz", "ConstituciÃ³n"], correct: 1, explanation: "El Plan de Ayala exigÃ­a tierras para campesinos" },
        { q: "Â¿QuiÃ©n fue LÃ¡zaro CÃ¡rdenas?", options: ["Conquistador", "Presidente que expropiÃ³ petrÃ³leo", "Virrey", "Revolucionario"], correct: 1, explanation: "CÃ¡rdenas expropiÃ³ el petrÃ³leo en 1938" },
        { q: "Â¿QuÃ© civilizaciÃ³n inventÃ³ el cero?", options: ["Azteca", "Maya", "Olmeca", "Tolteca"], correct: 1, explanation: "Los mayas inventaron el concepto del cero" },
        { q: "Â¿QuÃ© fue la Guerra Cristera?", options: ["Guerra de Independencia", "Conflicto religioso", "RevoluciÃ³n", "Conquista"], correct: 1, explanation: "Fue un conflicto entre el gobierno y catÃ³licos (1926-1929)" },
        { q: "Â¿CuÃ¡nto durÃ³ el Virreinato de Nueva EspaÃ±a?", options: ["100 aÃ±os", "200 aÃ±os", "300 aÃ±os", "400 aÃ±os"], correct: 2, explanation: "DurÃ³ aproximadamente 300 aÃ±os (1521-1821)" },
        { q: "Â¿QuÃ© es el Tratado de Libre Comercio?", options: ["Acuerdo militar", "Acuerdo comercial", "Tratado de paz", "ConstituciÃ³n"], correct: 1, explanation: "El TLCAN es un acuerdo comercial con EE.UU. y CanadÃ¡" },
        { q: "Â¿QuiÃ©n fue JosÃ© MarÃ­a Morelos?", options: ["Conquistador", "Sacerdote insurgente", "Virrey", "Emperador"], correct: 1, explanation: "Morelos fue lÃ­der de la Independencia" },
        { q: "Â¿QuÃ© evento ocurriÃ³ en Tlatelolco en 1968?", options: ["Terremoto", "Matanza de estudiantes", "Olimpiadas", "RevoluciÃ³n"], correct: 1, explanation: "Hubo una matanza de estudiantes el 2 de octubre de 1968" },
        { q: "Â¿QuÃ© es el Porfiriato?", options: ["Una guerra", "PerÃ­odo de gobierno de DÃ­az", "Un tratado", "Una constituciÃ³n"], correct: 1, explanation: "Es el perÃ­odo en que Porfirio DÃ­az gobernÃ³ (1876-1911)" }
      ],
      culture: [
        { q: "Â¿QuÃ© es el muralismo mexicano?", options: ["Tipo de mÃºsica", "Movimiento artÃ­stico de pintura mural", "Baile tÃ­pico", "Literatura"], correct: 1, explanation: "Movimiento de grandes murales con temas sociales" },
        { q: "Â¿QuiÃ©n pintÃ³ 'El hombre en el cruce de caminos'?", options: ["Frida Kahlo", "Diego Rivera", "David Alfaro Siqueiros", "Rufino Tamayo"], correct: 1, explanation: "Diego Rivera pintÃ³ este famoso mural" },
        { q: "Â¿De dÃ³nde es originario el son jarocho?", options: ["Jalisco", "Veracruz", "Oaxaca", "MichoacÃ¡n"], correct: 1, explanation: "El son jarocho es de Veracruz" },
        { q: "Â¿QuÃ© escritor mexicano ganÃ³ el Premio Cervantes?", options: ["Juan Rulfo", "Carlos Fuentes", "Elena Poniatowska", "Todos"], correct: 3, explanation: "Los tres han ganado el Premio Cervantes" },
        { q: "Â¿QuÃ© es el DÃ­a de los Reyes Magos?", options: ["25 de diciembre", "6 de enero", "1 de noviembre", "16 de septiembre"], correct: 1, explanation: "El 6 de enero se celebra a los Reyes Magos" },
        { q: "Â¿QuÃ© es la charrerÃ­a?", options: ["Comida", "Deporte nacional ecuestre", "Baile", "ArtesanÃ­a"], correct: 1, explanation: "La charrerÃ­a es el deporte nacional de MÃ©xico" },
        { q: "Â¿QuiÃ©n compuso 'Cielito Lindo'?", options: ["JosÃ© Alfredo JimÃ©nez", "Quirino Mendoza", "AgustÃ­n Lara", "Juan Gabriel"], correct: 1, explanation: "Quirino Mendoza compuso Cielito Lindo" },
        { q: "Â¿De quÃ© material estÃ¡n hechas las artesanÃ­as de Olinala?", options: ["Barro", "Madera laqueada", "Plata", "Vidrio"], correct: 1, explanation: "Las artesanÃ­as de Olinala son de madera laqueada" },
        { q: "Â¿QuÃ© es la Noche de RÃ¡banos?", options: ["Festival de comida", "Concurso de figuras de rÃ¡bano", "Baile tÃ­pico", "Fiesta religiosa"], correct: 1, explanation: "Es un festival en Oaxaca con figuras de rÃ¡bano" },
        { q: "Â¿QuiÃ©n es considerado el 'PrÃ­ncipe de la CanciÃ³n'?", options: ["Juan Gabriel", "JosÃ© JosÃ©", "Luis Miguel", "Vicente FernÃ¡ndez"], correct: 1, explanation: "JosÃ© JosÃ© es el 'PrÃ­ncipe de la CanciÃ³n'" },
        { q: "Â¿QuÃ© instrumento es el 'guitarrÃ³n'?", options: ["Guitarra pequeÃ±a", "Bajo del mariachi", "Tipo de violÃ­n", "Instrumento de viento"], correct: 1, explanation: "El guitarrÃ³n es el bajo del mariachi" },
        { q: "Â¿QuÃ© es el ZÃ³calo de la Ciudad de MÃ©xico?", options: ["Mercado", "Plaza principal", "Museo", "Catedral"], correct: 1, explanation: "El ZÃ³calo es la plaza principal de la CDMX" }
      ]
    };

    // INGLÃ‰S - Vocabulario (100+ palabras)
    const englishQuestions = [
      // Animales (15)
      { q: "Â¿CÃ³mo se dice 'perro' en inglÃ©s?", options: ["Cat", "Dog", "Bird", "Fish"], correct: 1, explanation: "Dog = Perro" },
      { q: "Â¿CÃ³mo se dice 'gato' en inglÃ©s?", options: ["Dog", "Mouse", "Cat", "Rabbit"], correct: 2, explanation: "Cat = Gato" },
      { q: "Â¿QuÃ© significa 'Bird'?", options: ["Pez", "PÃ¡jaro", "Oso", "LeÃ³n"], correct: 1, explanation: "Bird = PÃ¡jaro" },
      { q: "Â¿CÃ³mo se dice 'pez' en inglÃ©s?", options: ["Fish", "Bird", "Bug", "Cow"], correct: 0, explanation: "Fish = Pez" },
      { q: "Â¿QuÃ© significa 'Elephant'?", options: ["Tigre", "Jirafa", "Elefante", "LeÃ³n"], correct: 2, explanation: "Elephant = Elefante" },
      { q: "Â¿CÃ³mo se dice 'mariposa' en inglÃ©s?", options: ["Bee", "Butterfly", "Spider", "Ant"], correct: 1, explanation: "Butterfly = Mariposa" },
      { q: "Â¿QuÃ© significa 'Horse'?", options: ["Vaca", "Cerdo", "Caballo", "Oveja"], correct: 2, explanation: "Horse = Caballo" },
      { q: "Â¿CÃ³mo se dice 'leÃ³n' en inglÃ©s?", options: ["Tiger", "Bear", "Lion", "Wolf"], correct: 2, explanation: "Lion = LeÃ³n" },
      { q: "Â¿QuÃ© significa 'Rabbit'?", options: ["RatÃ³n", "Conejo", "Ardilla", "Hamster"], correct: 1, explanation: "Rabbit = Conejo" },
      { q: "Â¿CÃ³mo se dice 'tortuga' en inglÃ©s?", options: ["Turtle", "Snake", "Frog", "Lizard"], correct: 0, explanation: "Turtle = Tortuga" },
      { q: "Â¿QuÃ© significa 'Monkey'?", options: ["Gorila", "Mono", "ChimpancÃ©", "OrangutÃ¡n"], correct: 1, explanation: "Monkey = Mono" },
      { q: "Â¿CÃ³mo se dice 'rana' en inglÃ©s?", options: ["Toad", "Frog", "Newt", "Salamander"], correct: 1, explanation: "Frog = Rana" },
      { q: "Â¿QuÃ© significa 'Shark'?", options: ["Ballena", "DelfÃ­n", "TiburÃ³n", "Pulpo"], correct: 2, explanation: "Shark = TiburÃ³n" },
      { q: "Â¿CÃ³mo se dice 'oso' en inglÃ©s?", options: ["Wolf", "Fox", "Bear", "Deer"], correct: 2, explanation: "Bear = Oso" },
      { q: "Â¿QuÃ© significa 'Duck'?", options: ["Pollo", "Pato", "Ganso", "Pavo"], correct: 1, explanation: "Duck = Pato" },
      
      // Colores (10)
      { q: "Â¿CÃ³mo se dice 'rojo' en inglÃ©s?", options: ["Blue", "Green", "Red", "Yellow"], correct: 2, explanation: "Red = Rojo" },
      { q: "Â¿QuÃ© significa 'Blue'?", options: ["Verde", "Azul", "Morado", "Rosa"], correct: 1, explanation: "Blue = Azul" },
      { q: "Â¿CÃ³mo se dice 'amarillo' en inglÃ©s?", options: ["Orange", "Yellow", "Gold", "Brown"], correct: 1, explanation: "Yellow = Amarillo" },
      { q: "Â¿QuÃ© significa 'Green'?", options: ["Verde", "Gris", "Negro", "Blanco"], correct: 0, explanation: "Green = Verde" },
      { q: "Â¿CÃ³mo se dice 'negro' en inglÃ©s?", options: ["White", "Gray", "Black", "Brown"], correct: 2, explanation: "Black = Negro" },
      { q: "Â¿QuÃ© significa 'White'?", options: ["Negro", "Gris", "Blanco", "Crema"], correct: 2, explanation: "White = Blanco" },
      { q: "Â¿CÃ³mo se dice 'naranja' en inglÃ©s?", options: ["Purple", "Orange", "Pink", "Brown"], correct: 1, explanation: "Orange = Naranja" },
      { q: "Â¿QuÃ© significa 'Purple'?", options: ["Rosa", "Morado", "Azul", "Rojo"], correct: 1, explanation: "Purple = Morado" },
      { q: "Â¿CÃ³mo se dice 'rosa' en inglÃ©s?", options: ["Pink", "Red", "Peach", "Coral"], correct: 0, explanation: "Pink = Rosa" },
      { q: "Â¿QuÃ© significa 'Gray'?", options: ["Gris", "Plateado", "Negro", "Blanco"], correct: 0, explanation: "Gray = Gris" },
      
      // NÃºmeros (10)
      { q: "Â¿CÃ³mo se dice 'uno' en inglÃ©s?", options: ["Two", "One", "Three", "Zero"], correct: 1, explanation: "One = Uno" },
      { q: "Â¿QuÃ© nÃºmero es 'Five'?", options: ["4", "5", "6", "7"], correct: 1, explanation: "Five = Cinco (5)" },
      { q: "Â¿CÃ³mo se dice 'diez' en inglÃ©s?", options: ["Eleven", "Nine", "Ten", "Twelve"], correct: 2, explanation: "Ten = Diez" },
      { q: "Â¿QuÃ© nÃºmero es 'Twenty'?", options: ["12", "15", "20", "25"], correct: 2, explanation: "Twenty = Veinte (20)" },
      { q: "Â¿CÃ³mo se dice 'cien' en inglÃ©s?", options: ["Hundred", "Thousand", "Million", "Dozen"], correct: 0, explanation: "Hundred = Cien (100)" },
      { q: "Â¿QuÃ© nÃºmero es 'Fifteen'?", options: ["14", "15", "16", "50"], correct: 1, explanation: "Fifteen = Quince (15)" },
      { q: "Â¿CÃ³mo se dice 'siete' en inglÃ©s?", options: ["Six", "Seven", "Eight", "Nine"], correct: 1, explanation: "Seven = Siete" },
      { q: "Â¿QuÃ© nÃºmero es 'Thirty'?", options: ["13", "30", "33", "3"], correct: 1, explanation: "Thirty = Treinta (30)" },
      { q: "Â¿CÃ³mo se dice 'doce' en inglÃ©s?", options: ["Eleven", "Twelve", "Twenty", "Ten"], correct: 1, explanation: "Twelve = Doce" },
      { q: "Â¿QuÃ© nÃºmero es 'Forty'?", options: ["14", "4", "40", "44"], correct: 2, explanation: "Forty = Cuarenta (40)" },
      
      // Familia (10)
      { q: "Â¿CÃ³mo se dice 'mamÃ¡' en inglÃ©s?", options: ["Father", "Mother", "Sister", "Brother"], correct: 1, explanation: "Mother = MamÃ¡" },
      { q: "Â¿QuÃ© significa 'Father'?", options: ["MamÃ¡", "PapÃ¡", "Hermano", "Abuelo"], correct: 1, explanation: "Father = PapÃ¡" },
      { q: "Â¿CÃ³mo se dice 'hermano' en inglÃ©s?", options: ["Sister", "Brother", "Uncle", "Cousin"], correct: 1, explanation: "Brother = Hermano" },
      { q: "Â¿QuÃ© significa 'Sister'?", options: ["Prima", "TÃ­a", "Hermana", "Sobrina"], correct: 2, explanation: "Sister = Hermana" },
      { q: "Â¿CÃ³mo se dice 'abuelo' en inglÃ©s?", options: ["Grandmother", "Grandfather", "Uncle", "Father"], correct: 1, explanation: "Grandfather = Abuelo" },
      { q: "Â¿QuÃ© significa 'Grandmother'?", options: ["Abuela", "TÃ­a", "MamÃ¡", "Prima"], correct: 0, explanation: "Grandmother = Abuela" },
      { q: "Â¿CÃ³mo se dice 'tÃ­o' en inglÃ©s?", options: ["Aunt", "Uncle", "Cousin", "Nephew"], correct: 1, explanation: "Uncle = TÃ­o" },
      { q: "Â¿QuÃ© significa 'Aunt'?", options: ["TÃ­a", "Prima", "Sobrina", "Nuera"], correct: 0, explanation: "Aunt = TÃ­a" },
      { q: "Â¿CÃ³mo se dice 'primo' en inglÃ©s?", options: ["Brother", "Nephew", "Cousin", "Uncle"], correct: 2, explanation: "Cousin = Primo/Prima" },
      { q: "Â¿QuÃ© significa 'Son'?", options: ["Sol", "Hijo", "Sobrino", "Nieto"], correct: 1, explanation: "Son = Hijo" },
      
      // Comida (15)
      { q: "Â¿CÃ³mo se dice 'manzana' en inglÃ©s?", options: ["Orange", "Banana", "Apple", "Grape"], correct: 2, explanation: "Apple = Manzana" },
      { q: "Â¿QuÃ© significa 'Bread'?", options: ["Arroz", "Pan", "Pasta", "Cereal"], correct: 1, explanation: "Bread = Pan" },
      { q: "Â¿CÃ³mo se dice 'leche' en inglÃ©s?", options: ["Water", "Juice", "Milk", "Soda"], correct: 2, explanation: "Milk = Leche" },
      { q: "Â¿QuÃ© significa 'Egg'?", options: ["Pollo", "Huevo", "Pato", "Pavo"], correct: 1, explanation: "Egg = Huevo" },
      { q: "Â¿CÃ³mo se dice 'agua' en inglÃ©s?", options: ["Water", "Wine", "Soda", "Tea"], correct: 0, explanation: "Water = Agua" },
      { q: "Â¿QuÃ© significa 'Rice'?", options: ["Pan", "Pasta", "Arroz", "Trigo"], correct: 2, explanation: "Rice = Arroz" },
      { q: "Â¿CÃ³mo se dice 'pollo' en inglÃ©s?", options: ["Beef", "Pork", "Chicken", "Fish"], correct: 2, explanation: "Chicken = Pollo" },
      { q: "Â¿QuÃ© significa 'Cheese'?", options: ["Crema", "Mantequilla", "Queso", "Yogurt"], correct: 2, explanation: "Cheese = Queso" },
      { q: "Â¿CÃ³mo se dice 'fresa' en inglÃ©s?", options: ["Strawberry", "Blueberry", "Raspberry", "Blackberry"], correct: 0, explanation: "Strawberry = Fresa" },
      { q: "Â¿QuÃ© significa 'Sugar'?", options: ["Sal", "AzÃºcar", "Pimienta", "Harina"], correct: 1, explanation: "Sugar = AzÃºcar" },
      { q: "Â¿CÃ³mo se dice 'carne' en inglÃ©s?", options: ["Fish", "Chicken", "Meat", "Pork"], correct: 2, explanation: "Meat = Carne" },
      { q: "Â¿QuÃ© significa 'Orange'?", options: ["LimÃ³n", "Naranja", "Toronja", "Mandarina"], correct: 1, explanation: "Orange = Naranja (fruta y color)" },
      { q: "Â¿CÃ³mo se dice 'verduras' en inglÃ©s?", options: ["Fruits", "Vegetables", "Meats", "Grains"], correct: 1, explanation: "Vegetables = Verduras" },
      { q: "Â¿QuÃ© significa 'Ice cream'?", options: ["Crema", "Helado", "Hielo", "Pastel"], correct: 1, explanation: "Ice cream = Helado" },
      { q: "Â¿CÃ³mo se dice 'jugo' en inglÃ©s?", options: ["Water", "Milk", "Juice", "Soda"], correct: 2, explanation: "Juice = Jugo" },
      
      // Partes del cuerpo (10)
      { q: "Â¿CÃ³mo se dice 'cabeza' en inglÃ©s?", options: ["Hand", "Head", "Heart", "Hair"], correct: 1, explanation: "Head = Cabeza" },
      { q: "Â¿QuÃ© significa 'Hand'?", options: ["Brazo", "Pierna", "Mano", "Pie"], correct: 2, explanation: "Hand = Mano" },
      { q: "Â¿CÃ³mo se dice 'ojos' en inglÃ©s?", options: ["Ears", "Eyes", "Nose", "Mouth"], correct: 1, explanation: "Eyes = Ojos" },
      { q: "Â¿QuÃ© significa 'Mouth'?", options: ["Nariz", "Oreja", "Boca", "Barbilla"], correct: 2, explanation: "Mouth = Boca" },
      { q: "Â¿CÃ³mo se dice 'nariz' en inglÃ©s?", options: ["Nose", "Neck", "Knee", "Nail"], correct: 0, explanation: "Nose = Nariz" },
      { q: "Â¿QuÃ© significa 'Leg'?", options: ["Brazo", "Pierna", "Mano", "Pie"], correct: 1, explanation: "Leg = Pierna" },
      { q: "Â¿CÃ³mo se dice 'pie' en inglÃ©s?", options: ["Hand", "Foot", "Finger", "Toe"], correct: 1, explanation: "Foot = Pie" },
      { q: "Â¿QuÃ© significa 'Arm'?", options: ["Brazo", "Pierna", "Hombro", "Codo"], correct: 0, explanation: "Arm = Brazo" },
      { q: "Â¿CÃ³mo se dice 'dedo' en inglÃ©s?", options: ["Hand", "Arm", "Finger", "Wrist"], correct: 2, explanation: "Finger = Dedo" },
      { q: "Â¿QuÃ© significa 'Ear'?", options: ["Ojo", "Oreja", "Nariz", "Boca"], correct: 1, explanation: "Ear = Oreja" },
      
      // DÃ­as y tiempo (10)
      { q: "Â¿CÃ³mo se dice 'lunes' en inglÃ©s?", options: ["Tuesday", "Monday", "Wednesday", "Sunday"], correct: 1, explanation: "Monday = Lunes" },
      { q: "Â¿QuÃ© dÃ­a es 'Friday'?", options: ["Jueves", "Viernes", "SÃ¡bado", "Domingo"], correct: 1, explanation: "Friday = Viernes" },
      { q: "Â¿CÃ³mo se dice 'domingo' en inglÃ©s?", options: ["Saturday", "Sunday", "Monday", "Friday"], correct: 1, explanation: "Sunday = Domingo" },
      { q: "Â¿QuÃ© significa 'Today'?", options: ["Ayer", "MaÃ±ana", "Hoy", "Siempre"], correct: 2, explanation: "Today = Hoy" },
      { q: "Â¿CÃ³mo se dice 'maÃ±ana' (dÃ­a) en inglÃ©s?", options: ["Yesterday", "Today", "Tomorrow", "Morning"], correct: 2, explanation: "Tomorrow = MaÃ±ana (el dÃ­a siguiente)" },
      { q: "Â¿QuÃ© significa 'Week'?", options: ["DÃ­a", "Mes", "Semana", "AÃ±o"], correct: 2, explanation: "Week = Semana" },
      { q: "Â¿CÃ³mo se dice 'mes' en inglÃ©s?", options: ["Day", "Week", "Month", "Year"], correct: 2, explanation: "Month = Mes" },
      { q: "Â¿QuÃ© significa 'Year'?", options: ["Mes", "Semana", "DÃ­a", "AÃ±o"], correct: 3, explanation: "Year = AÃ±o" },
      { q: "Â¿CÃ³mo se dice 'hora' en inglÃ©s?", options: ["Minute", "Second", "Hour", "Day"], correct: 2, explanation: "Hour = Hora" },
      { q: "Â¿QuÃ© significa 'Morning'?", options: ["Noche", "Tarde", "MaÃ±ana", "MediodÃ­a"], correct: 2, explanation: "Morning = MaÃ±ana (perÃ­odo del dÃ­a)" },
      
      // Objetos escolares (10)
      { q: "Â¿CÃ³mo se dice 'libro' en inglÃ©s?", options: ["Notebook", "Book", "Pencil", "Pen"], correct: 1, explanation: "Book = Libro" },
      { q: "Â¿QuÃ© significa 'Pencil'?", options: ["Pluma", "LÃ¡piz", "Borrador", "Regla"], correct: 1, explanation: "Pencil = LÃ¡piz" },
      { q: "Â¿CÃ³mo se dice 'cuaderno' en inglÃ©s?", options: ["Book", "Notebook", "Folder", "Binder"], correct: 1, explanation: "Notebook = Cuaderno" },
      { q: "Â¿QuÃ© significa 'Ruler'?", options: ["Borrador", "CompÃ¡s", "Regla", "Tijeras"], correct: 2, explanation: "Ruler = Regla" },
      { q: "Â¿CÃ³mo se dice 'borrador' en inglÃ©s?", options: ["Pencil", "Pen", "Eraser", "Marker"], correct: 2, explanation: "Eraser = Borrador" },
      { q: "Â¿QuÃ© significa 'Desk'?", options: ["Silla", "Mesa", "Escritorio", "PizarrÃ³n"], correct: 2, explanation: "Desk = Escritorio" },
      { q: "Â¿CÃ³mo se dice 'tijeras' en inglÃ©s?", options: ["Scissors", "Glue", "Tape", "Stapler"], correct: 0, explanation: "Scissors = Tijeras" },
      { q: "Â¿QuÃ© significa 'Backpack'?", options: ["Bolsa", "Mochila", "Estuche", "Lonchera"], correct: 1, explanation: "Backpack = Mochila" },
      { q: "Â¿CÃ³mo se dice 'pizarrÃ³n' en inglÃ©s?", options: ["Desk", "Chair", "Board", "Window"], correct: 2, explanation: "Board = PizarrÃ³n" },
      { q: "Â¿QuÃ© significa 'Teacher'?", options: ["Estudiante", "Director", "Maestro", "Amigo"], correct: 2, explanation: "Teacher = Maestro/a" },
      
      // Lugares (10)
      { q: "Â¿CÃ³mo se dice 'escuela' en inglÃ©s?", options: ["Hospital", "School", "Church", "Store"], correct: 1, explanation: "School = Escuela" },
      { q: "Â¿QuÃ© significa 'House'?", options: ["Hospital", "Hotel", "Casa", "Edificio"], correct: 2, explanation: "House = Casa" },
      { q: "Â¿CÃ³mo se dice 'parque' en inglÃ©s?", options: ["Garden", "Park", "Forest", "Beach"], correct: 1, explanation: "Park = Parque" },
      { q: "Â¿QuÃ© significa 'Hospital'?", options: ["Hotel", "Hospital", "Oficina", "Tienda"], correct: 1, explanation: "Hospital = Hospital" },
      { q: "Â¿CÃ³mo se dice 'tienda' en inglÃ©s?", options: ["Store", "Bank", "Office", "Restaurant"], correct: 0, explanation: "Store = Tienda" },
      { q: "Â¿QuÃ© significa 'Beach'?", options: ["MontaÃ±a", "RÃ­o", "Playa", "Lago"], correct: 2, explanation: "Beach = Playa" },
      { q: "Â¿CÃ³mo se dice 'biblioteca' en inglÃ©s?", options: ["Bookstore", "Library", "Museum", "Gallery"], correct: 1, explanation: "Library = Biblioteca" },
      { q: "Â¿QuÃ© significa 'Airport'?", options: ["EstaciÃ³n", "Puerto", "Aeropuerto", "Terminal"], correct: 2, explanation: "Airport = Aeropuerto" },
      { q: "Â¿CÃ³mo se dice 'iglesia' en inglÃ©s?", options: ["Temple", "Church", "Mosque", "Chapel"], correct: 1, explanation: "Church = Iglesia" },
      { q: "Â¿QuÃ© significa 'Restaurant'?", options: ["CafeterÃ­a", "Restaurante", "Comedor", "Cocina"], correct: 1, explanation: "Restaurant = Restaurante" }
    ];

    // ============= FUNCIONES DE NAVEGACIÃ“N =============
    
    function showScreen(screenId) {
      const screens = ['main-screen', 'category-screen', 'game-screen', 'results-screen', 'gameover-screen'];
      screens.forEach(id => {
        document.getElementById(id).classList.add('hidden');
      });
      document.getElementById(screenId).classList.remove('hidden');
    }
    
    function goToMain() {
      stopTimer();
      showScreen('main-screen');
    }
    
    function goToCategories() {
      stopTimer();
      showScreen('category-screen');
    }
    
    function selectPhase(phase) {
      gameState.currentPhase = phase;
      renderCategories(phase);
      showScreen('category-screen');
    }
    
    function renderCategories(phase) {
      const grid = document.getElementById('category-grid');
      grid.innerHTML = '';
      
      let phaseTitle = '';
      let categoriesToShow = [];
      
      if (phase === 'english') {
        phaseTitle = 'INGLÃ‰S - Vocabulario BÃ¡sico';
        categoriesToShow = [
          { key: 'english-animals', icon: 'ğŸ¾', name: 'Animales', color: 'from-red-400 to-red-600' },
          { key: 'english-colors', icon: 'ğŸ¨', name: 'Colores', color: 'from-orange-400 to-orange-600' },
          { key: 'english-numbers', icon: 'ğŸ”¢', name: 'NÃºmeros', color: 'from-yellow-400 to-yellow-600' },
          { key: 'english-family', icon: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦', name: 'Familia', color: 'from-green-400 to-green-600' },
          { key: 'english-food', icon: 'ğŸ', name: 'Comida', color: 'from-teal-400 to-teal-600' },
          { key: 'english-body', icon: 'ğŸ‘‹', name: 'Cuerpo', color: 'from-blue-400 to-blue-600' },
          { key: 'english-time', icon: 'ğŸ“…', name: 'DÃ­as/Tiempo', color: 'from-indigo-400 to-indigo-600' },
          { key: 'english-school', icon: 'ğŸ“š', name: 'Escuela', color: 'from-purple-400 to-purple-600' },
          { key: 'english-places', icon: 'ğŸ ', name: 'Lugares', color: 'from-pink-400 to-pink-600' }
        ];
      } else {
        phaseTitle = `FASE ${phase} - Elige una categorÃ­a`;
        categoriesToShow = [
          { key: 'math', icon: 'ğŸ”¢', name: 'MatemÃ¡ticas', color: 'from-blue-400 to-blue-600' },
          { key: 'spanish', icon: 'ğŸ“š', name: 'EspaÃ±ol', color: 'from-pink-400 to-pink-600' },
          { key: 'science', icon: 'ğŸ”¬', name: 'Ciencias', color: 'from-green-400 to-green-600' },
          { key: 'geography', icon: 'ğŸŒ', name: 'GeografÃ­a', color: 'from-teal-400 to-teal-600' },
          { key: 'history', icon: 'ğŸ“œ', name: 'Historia', color: 'from-amber-400 to-amber-600' },
          { key: 'culture', icon: 'ğŸ­', name: 'Cultura', color: 'from-purple-400 to-purple-600' }
        ];
      }
      
      document.getElementById('phase-title').textContent = phaseTitle;
      
      categoriesToShow.forEach(cat => {
        const btn = document.createElement('button');
        btn.className = `category-btn bg-gradient-to-br ${cat.color} text-white rounded-2xl p-5 flex flex-col items-center gap-2 shadow-lg`;
        btn.innerHTML = `
          <span class="text-4xl">${cat.icon}</span>
          <span class="font-bold text-lg">${cat.name}</span>
        `;
        btn.onclick = () => startGame(cat.key);
        grid.appendChild(btn);
      });
    }
    
    // ============= FUNCIONES DEL JUEGO =============
    
    function startGame(category) {
      gameState.currentCategory = category;
      gameState.lives = 3;
      gameState.score = 0;
      gameState.questionIndex = 0;
      gameState.correctAnswers = 0;
      gameState.incorrectAnswers = 0;
      
      // Obtener preguntas segÃºn fase y categorÃ­a
      let questionBank = [];
      
      // Manejar categorÃ­as de inglÃ©s
      if (category.startsWith('english-')) {
        const subcategory = category.replace('english-', '');
        const englishCategories = {
          'animals': englishQuestions.filter((_, i) => i < 15),
          'colors': englishQuestions.filter((_, i) => i >= 15 && i < 25),
          'numbers': englishQuestions.filter((_, i) => i >= 25 && i < 35),
          'family': englishQuestions.filter((_, i) => i >= 35 && i < 45),
          'food': englishQuestions.filter((_, i) => i >= 45 && i < 60),
          'body': englishQuestions.filter((_, i) => i >= 60 && i < 70),
          'time': englishQuestions.filter((_, i) => i >= 70 && i < 80),
          'school': englishQuestions.filter((_, i) => i >= 80 && i < 90),
          'places': englishQuestions.filter((_, i) => i >= 90 && i < 100)
        };
        questionBank = englishCategories[subcategory] || [];
      } else if (gameState.currentPhase === 3) {
        questionBank = phase3Questions[category] ? [...phase3Questions[category]] : [];
      } else if (gameState.currentPhase === 4) {
        questionBank = phase4Questions[category] ? [...phase4Questions[category]] : [];
      } else if (gameState.currentPhase === 5) {
        questionBank = phase5Questions[category] ? [...phase5Questions[category]] : [];
      }
      
      // Mezclar y seleccionar 10 preguntas
      gameState.questions = shuffleArray(questionBank).slice(0, 10);
      
      updateLivesDisplay();
      updateScoreDisplay();
      showScreen('game-screen');
      loadQuestion();
    }
    
    function shuffleArray(array) {
      const newArray = [...array];
      for (let i = newArray.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
      }
      return newArray;
    }
    
    function loadQuestion() {
      stopTimer();
      
      const question = gameState.questions[gameState.questionIndex];
      
      // Actualizar contador
      document.getElementById('question-counter').textContent = 
        `Pregunta ${gameState.questionIndex + 1} de ${gameState.questions.length}`;
      
      // Actualizar badge de categorÃ­a
      const categoryNames = {
        math: 'ğŸ”¢ MatemÃ¡ticas',
        spanish: 'ğŸ“š EspaÃ±ol',
        science: 'ğŸ”¬ Ciencias',
        geography: 'ğŸŒ GeografÃ­a',
        history: 'ğŸ“œ Historia',
        culture: 'ğŸ­ Cultura',
        'english-animals': 'ğŸ¾ Animales',
        'english-colors': 'ğŸ¨ Colores',
        'english-numbers': 'ğŸ”¢ NÃºmeros',
        'english-family': 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Familia',
        'english-food': 'ğŸ Comida',
        'english-body': 'ğŸ‘‹ Cuerpo',
        'english-time': 'ğŸ“… DÃ­as/Tiempo',
        'english-school': 'ğŸ“š Escuela',
        'english-places': 'ğŸ  Lugares'
      };
      document.getElementById('category-badge').textContent = categoryNames[gameState.currentCategory] || 'ğŸ“ Pregunta';
      
      // Mostrar pregunta
      document.getElementById('question-text').textContent = question.q;
      
      // Crear opciones
      const optionsContainer = document.getElementById('options-container');
      optionsContainer.innerHTML = '';
      
      const optionLabels = ['A', 'B', 'C', 'D'];
      const optionColors = [
        'from-red-400 to-red-500',
        'from-blue-400 to-blue-500',
        'from-green-400 to-green-500',
        'from-yellow-400 to-yellow-500'
      ];
      
      question.options.forEach((option, index) => {
        const btn = document.createElement('button');
        btn.className = `option-btn bg-gradient-to-r ${optionColors[index]} text-white p-4 rounded-xl font-bold text-left flex items-center gap-3 shadow-md hover:shadow-lg`;
        btn.innerHTML = `
          <span class="bg-white/30 w-8 h-8 rounded-full flex items-center justify-center text-sm">${optionLabels[index]}</span>
          <span class="flex-1">${option}</span>
        `;
        btn.onclick = () => checkAnswer(index);
        optionsContainer.appendChild(btn);
      });
      
      // Ocultar feedback y botÃ³n siguiente
      document.getElementById('feedback-container').classList.add('hidden');
      document.getElementById('next-btn').classList.add('hidden');
      
      // Iniciar temporizador
      startTimer();
    }
    
    function checkAnswer(selectedIndex) {
      stopTimer();
      
      const question = gameState.questions[gameState.questionIndex];
      const isCorrect = selectedIndex === question.correct;
      
      // Deshabilitar todas las opciones
      const options = document.querySelectorAll('.option-btn');
      options.forEach((btn, index) => {
        btn.disabled = true;
        btn.classList.remove('hover:shadow-lg');
        
        if (index === question.correct) {
          btn.classList.add('correct');
        } else if (index === selectedIndex && !isCorrect) {
          btn.classList.add('incorrect');
          btn.classList.add('shake');
        }
      });
      
      // Actualizar estado
      if (isCorrect) {
        gameState.score += 100;
        gameState.correctAnswers++;
        updateScoreDisplay();
        showFeedback(true, question.explanation);
      } else {
        gameState.lives--;
        gameState.incorrectAnswers++;
        updateLivesDisplay();
        showFeedback(false, question.explanation);
        
        if (gameState.lives <= 0) {
          setTimeout(showGameOver, 1500);
          return;
        }
      }
      
      // Mostrar botÃ³n siguiente
      document.getElementById('next-btn').classList.remove('hidden');
    }
    
    function showFeedback(isCorrect, explanation) {
      const container = document.getElementById('feedback-container');
      const text = document.getElementById('feedback-text');
      const explanationEl = document.getElementById('feedback-explanation');
      
      container.classList.remove('hidden');
      
      if (isCorrect) {
        container.className = 'mt-4 p-4 rounded-2xl text-center bg-green-100 border-2 border-green-400';
        text.textContent = 'Â¡Correcto! ğŸ‰';
        text.className = 'text-lg font-bold text-green-700';
      } else {
        container.className = 'mt-4 p-4 rounded-2xl text-center bg-red-100 border-2 border-red-400';
        text.textContent = 'Â¡Incorrecto! ğŸ˜¢';
        text.className = 'text-lg font-bold text-red-700';
      }
      
      explanationEl.textContent = explanation;
      explanationEl.className = 'text-sm mt-2 text-gray-600';
    }
    
    function nextQuestion() {
      gameState.questionIndex++;
      
      if (gameState.questionIndex >= gameState.questions.length) {
        showResults();
      } else {
        loadQuestion();
      }
    }
    
    function showResults() {
      document.getElementById('final-score').textContent = gameState.score;
      document.getElementById('correct-count').textContent = gameState.correctAnswers;
      document.getElementById('incorrect-count').textContent = gameState.incorrectAnswers;
      
      const percentage = (gameState.correctAnswers / gameState.questions.length) * 100;
      const emoji = document.getElementById('result-emoji');
      const title = document.getElementById('result-title');
      const message = document.getElementById('result-message');
      
      if (percentage >= 90) {
        emoji.textContent = 'ğŸ†';
        title.textContent = 'Â¡EXCELENTE!';
        message.textContent = 'Â¡Eres un genio! Â¡Felicidades!';
      } else if (percentage >= 70) {
        emoji.textContent = 'ğŸŒŸ';
        title.textContent = 'Â¡MUY BIEN!';
        message.textContent = 'Â¡Gran trabajo! Sigue asÃ­.';
      } else if (percentage >= 50) {
        emoji.textContent = 'ğŸ‘';
        title.textContent = 'Â¡BUEN INTENTO!';
        message.textContent = 'Puedes mejorar, Â¡sigue practicando!';
      } else {
        emoji.textContent = 'ğŸ’ª';
        title.textContent = 'Â¡SIGUE INTENTANDO!';
        message.textContent = 'La prÃ¡ctica hace al maestro.';
      }
      
      showScreen('results-screen');
    }
    
    function showGameOver() {
      document.getElementById('gameover-score').textContent = gameState.score;
      showScreen('gameover-screen');
    }
    
    function playAgain() {
      startGame(gameState.currentCategory);
    }
    
    // ============= FUNCIONES DE TEMPORIZADOR =============
    
    function startTimer() {
      gameState.timeLeft = 100;
      const timerBar = document.getElementById('timer-bar');
      timerBar.style.width = '100%';
      timerBar.className = 'progress-bar bg-gradient-to-r from-green-400 to-green-600 h-full rounded-full';
      
      gameState.timerInterval = setInterval(() => {
        gameState.timeLeft -= 1;
        timerBar.style.width = gameState.timeLeft + '%';
        
        if (gameState.timeLeft <= 30) {
          timerBar.className = 'progress-bar bg-gradient-to-r from-yellow-400 to-orange-500 h-full rounded-full';
        }
        if (gameState.timeLeft <= 15) {
          timerBar.className = 'progress-bar bg-gradient-to-r from-red-400 to-red-600 h-full rounded-full';
        }
        
        if (gameState.timeLeft <= 0) {
          stopTimer();
          timeUp();
        }
      }, 150); // Aproximadamente 15 segundos por pregunta
    }
    
    function stopTimer() {
      if (gameState.timerInterval) {
        clearInterval(gameState.timerInterval);
        gameState.timerInterval = null;
      }
    }
    
    function timeUp() {
      const question = gameState.questions[gameState.questionIndex];
      
      // Marcar la respuesta correcta
      const options = document.querySelectorAll('.option-btn');
      options.forEach((btn, index) => {
        btn.disabled = true;
        if (index === question.correct) {
          btn.classList.add('correct');
        }
      });
      
      gameState.lives--;
      gameState.incorrectAnswers++;
      updateLivesDisplay();
      showFeedback(false, 'â±ï¸ Â¡Se acabÃ³ el tiempo! ' + question.explanation);
      
      if (gameState.lives <= 0) {
        setTimeout(showGameOver, 1500);
      } else {
        document.getElementById('next-btn').classList.remove('hidden');
      }
    }
    
    // ============= FUNCIONES DE UI =============
    
    function updateLivesDisplay() {
      const hearts = document.querySelectorAll('.life-heart');
      hearts.forEach((heart, index) => {
        if (index < gameState.lives) {
          heart.classList.remove('lost');
        } else {
          heart.classList.add('lost');
        }
      });
    }
    
    function updateScoreDisplay() {
      const scoreEl = document.getElementById('score-display');
      scoreEl.textContent = gameState.score;
      scoreEl.parentElement.classList.add('celebrate');
      setTimeout(() => {
        scoreEl.parentElement.classList.remove('celebrate');
      }, 600);
    }
    
    // ============= ELEMENT SDK =============
    
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange: async (config) => {
          const schoolTitle = document.getElementById('school-title');
          const teacherTitle = document.getElementById('teacher-title');
          
          if (schoolTitle) {
            schoolTitle.textContent = config.school_name || defaultConfig.school_name;
          }
          if (teacherTitle) {
            teacherTitle.textContent = config.teacher_name || defaultConfig.teacher_name;
          }
        },
        mapToCapabilities: (config) => ({
          recolorables: [],
          borderables: [],
          fontEditable: undefined,
          fontSizeable: undefined
        }),
        mapToEditPanelValues: (config) => new Map([
          ["school_name", config.school_name || defaultConfig.school_name],
          ["teacher_name", config.teacher_name || defaultConfig.teacher_name]
        ])
      });
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9d0ad02450f96a2b',t:'MTc3MTU1NzA0OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
