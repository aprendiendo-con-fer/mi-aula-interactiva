<!doctype html>
<html lang="es" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mi Aula Interactiva - Esc. Primaria Venustiano Carranza</title>
  <script src="https://cdn.tailwindcss.com/3.4.17"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&amp;family=Fredoka:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
  <style>
    * { font-family: 'Nunito', 'Fredoka', sans-serif; }
    .title-font { font-family: 'Fredoka', 'Nunito', sans-serif; }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
    
    @keyframes pulse-soft {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.02); }
    }
    
    @keyframes sparkle {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 1; }
    }
    
    @keyframes bounce-in {
      0% { transform: scale(0.8); opacity: 0; }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); opacity: 1; }
    }
    
    @keyframes slide-up {
      from { transform: translateY(30px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    @keyframes heart-beat {
      0%, 100% { transform: scale(1); }
      25% { transform: scale(1.1); }
    }
    
    .float-animation { animation: float 3s ease-in-out infinite; }
    .pulse-animation { animation: pulse-soft 2s ease-in-out infinite; }
    .sparkle { animation: sparkle 2s ease-in-out infinite; }
    .bounce-in { animation: bounce-in 0.5s ease-out forwards; }
    .slide-up { animation: slide-up 0.4s ease-out forwards; }
    .heart-beat { animation: heart-beat 1s ease-in-out infinite; }
    
    .main-btn {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 8px 25px -5px rgba(0,0,0,0.15), 0 4px 10px -5px rgba(0,0,0,0.1);
    }
    
    .main-btn:hover {
      transform: translateY(-5px) scale(1.02);
      box-shadow: 0 20px 40px -10px rgba(0,0,0,0.2);
    }
    
    .topic-card {
      transition: all 0.25s ease;
    }
    
    .topic-card:hover {
      transform: translateY(-3px);
    }
    
    .gradient-bg {
      background: linear-gradient(135deg, #fef9f3 0%, #fdf2f8 25%, #f0f9ff 50%, #f0fdf4 75%, #fefce8 100%);
    }
    
    .decorative-circle {
      position: absolute;
      border-radius: 50%;
      opacity: 0.4;
      pointer-events: none;
    }
    
    .game-container {
      background: linear-gradient(180deg, #fff9f0 0%, #fff0f5 100%);
    }
    
    .heart-icon {
      filter: drop-shadow(0 2px 4px rgba(239, 68, 68, 0.3));
    }
    
    .vocab-card {
      transition: all 0.3s ease;
      cursor: pointer;
    }
    
    .vocab-card:hover {
      transform: scale(1.05);
    }
    
    .vocab-card.correct {
      background: linear-gradient(135deg, #86efac, #4ade80) !important;
      animation: bounce-in 0.3s ease;
    }
    
    .vocab-card.incorrect {
      background: linear-gradient(135deg, #fca5a5, #f87171) !important;
      animation: shake 0.3s ease;
    }
    
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }
    
    .memorama-card {
      perspective: 1000px;
      cursor: pointer;
    }
    
    .memorama-card-inner {
      transition: transform 0.6s;
      transform-style: preserve-3d;
    }
    
    .memorama-card.flipped .memorama-card-inner {
      transform: rotateY(180deg);
    }
    
    .memorama-card-front, .memorama-card-back {
      backface-visibility: hidden;
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 16px;
    }
    
    .memorama-card-back {
      transform: rotateY(180deg);
    }
    
    .map-region {
      transition: all 0.3s ease;
      cursor: pointer;
    }
    
    .map-region:hover {
      filter: brightness(1.1);
      transform: scale(1.02);
    }
    
    .sisat-option {
      transition: all 0.2s ease;
    }
    
    .sisat-option:hover {
      transform: scale(1.02);
    }
    
    .sisat-option.selected {
      ring: 4px;
      ring-offset: 2px;
    }
  </style>
  <style>body { box-sizing: border-box; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full overflow-auto gradient-bg">
  <div id="app" class="min-h-full w-full relative"><!-- Decorative Elements -->
   <div class="decorative-circle w-32 h-32 bg-pink-200 top-10 left-10 sparkle" style="animation-delay: 0s;"></div>
   <div class="decorative-circle w-24 h-24 bg-blue-200 top-20 right-20 sparkle" style="animation-delay: 0.5s;"></div>
   <div class="decorative-circle w-20 h-20 bg-yellow-200 bottom-40 left-20 sparkle" style="animation-delay: 1s;"></div>
   <div class="decorative-circle w-28 h-28 bg-green-200 bottom-20 right-40 sparkle" style="animation-delay: 1.5s;"></div>
   <div class="decorative-circle w-16 h-16 bg-purple-200 top-40 left-1/3 sparkle" style="animation-delay: 2s;"></div><!-- Main Menu Screen -->
   <div id="main-menu" class="w-full min-h-full flex flex-col items-center justify-start py-8 px-4 relative z-10"><!-- Header Section -->
    <header class="text-center mb-8 bounce-in"><!-- School Logo/Icon -->
     <div class="mb-4 float-animation">
      <div class="w-24 h-24 mx-auto bg-gradient-to-br from-amber-300 via-orange-300 to-pink-300 rounded-full flex items-center justify-center shadow-lg"><span class="text-5xl">ğŸ“š</span>
      </div>
     </div><!-- Main Title -->
     <h1 id="main-title" class="title-font text-4xl md:text-5xl lg:text-6xl font-black bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 bg-clip-text text-transparent mb-3 leading-tight">âœ¨ Mi Aula Interactiva âœ¨</h1><!-- School Name -->
     <h2 id="school-title" class="title-font text-xl md:text-2xl lg:text-3xl font-bold text-purple-600 mb-2">ğŸ« Escuela Primaria Venustiano Carranza ğŸ«</h2><!-- School Info -->
     <div class="bg-white/70 backdrop-blur-sm rounded-2xl px-6 py-3 inline-block shadow-md mb-3">
      <p class="text-lg font-semibold text-gray-600"><span class="text-pink-500">ğŸ“</span> Zona Escolar 105 <span class="mx-2 text-purple-300">|</span> <span class="text-blue-500">ğŸ”‘</span> 26DPR1320W</p>
     </div><!-- Teacher Credit -->
     <div class="bg-gradient-to-r from-pink-100 via-purple-100 to-blue-100 rounded-2xl px-6 py-4 shadow-md">
      <p class="text-lg md:text-xl font-bold text-purple-700">ğŸ’œ Elaborado con amor por ğŸ’œ</p>
      <p id="teacher-name" class="title-font text-xl md:text-2xl font-black bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent">Mtra. MarÃ­a Fernanda Flores Valenzuela</p>
     </div>
    </header><!-- Main Navigation Buttons -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl w-full mb-8"><!-- Fase 3 Button --> <button onclick="showPhase(3)" class="main-btn bg-gradient-to-br from-pink-300 via-pink-400 to-rose-400 rounded-3xl p-6 text-white relative overflow-hidden group">
      <div class="absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity"></div>
      <div class="relative z-10">
       <div class="text-5xl mb-3">
        ğŸŒ¸
       </div>
       <h3 class="title-font text-2xl md:text-3xl font-black mb-2">FASE 3</h3>
       <p class="text-lg font-bold opacity-90">1Âº y 2Âº Grado</p>
       <p class="text-sm mt-2 opacity-80">Vocales â€¢ NÃºmeros â€¢ Sumas y Restas</p>
      </div>
      <div class="absolute -bottom-4 -right-4 text-8xl opacity-20">
       ğŸ€
      </div></button> <!-- Fase 4 Button --> <button onclick="showPhase(4)" class="main-btn bg-gradient-to-br from-sky-300 via-blue-400 to-indigo-400 rounded-3xl p-6 text-white relative overflow-hidden group">
      <div class="absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity"></div>
      <div class="relative z-10">
       <div class="text-5xl mb-3">
        ğŸŒŠ
       </div>
       <h3 class="title-font text-2xl md:text-3xl font-black mb-2">FASE 4</h3>
       <p class="text-lg font-bold opacity-90">3Âº y 4Âº Grado</p>
       <p class="text-sm mt-2 opacity-80">Fracciones â€¢ GeografÃ­a â€¢ MultiplicaciÃ³n</p>
      </div>
      <div class="absolute -bottom-4 -right-4 text-8xl opacity-20">
       ğŸŒŸ
      </div></button> <!-- Fase 5 Button --> <button onclick="showPhase(5)" class="main-btn bg-gradient-to-br from-emerald-300 via-teal-400 to-cyan-400 rounded-3xl p-6 text-white relative overflow-hidden group">
      <div class="absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity"></div>
      <div class="relative z-10">
       <div class="text-5xl mb-3">
        ğŸŒ¿
       </div>
       <h3 class="title-font text-2xl md:text-3xl font-black mb-2">FASE 5</h3>
       <p class="text-lg font-bold opacity-90">5Âº y 6Âº Grado</p>
       <p class="text-sm mt-2 opacity-80">Sistemas â€¢ Historia â€¢ Porcentajes</p>
      </div>
      <div class="absolute -bottom-4 -right-4 text-8xl opacity-20">
       ğŸš€
      </div></button> <!-- English Button --> <button onclick="showEnglish()" class="main-btn bg-gradient-to-br from-amber-300 via-orange-400 to-red-400 rounded-3xl p-6 text-white relative overflow-hidden group">
      <div class="absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity"></div>
      <div class="relative z-10">
       <div class="text-5xl mb-3">
        ğŸŒ
       </div>
       <h3 class="title-font text-2xl md:text-3xl font-black mb-2">ENGLISH</h3>
       <p class="text-lg font-bold opacity-90">Vocabulario BÃ¡sico</p>
       <p class="text-sm mt-2 opacity-80">10 CategorÃ­as Divertidas</p>
      </div>
      <div class="absolute -bottom-4 -right-4 text-8xl opacity-20">
       ğŸ—½
      </div></button>
    </div><!-- Footer Decoration -->
    <div class="flex items-center justify-center gap-4 text-4xl float-animation"><span>ğŸ¨</span> <span>ğŸ“–</span> <span>âœï¸</span> <span>ğŸ¯</span> <span>â­</span>
    </div>
   </div><!-- Phase Content Screen -->
   <div id="phase-screen" class="w-full min-h-full hidden flex-col items-center py-6 px-4 relative z-10"><button onclick="goHome()" class="absolute top-4 left-4 bg-white/80 backdrop-blur-sm rounded-full px-5 py-3 shadow-lg hover:shadow-xl transition-all flex items-center gap-2 font-bold text-purple-600"> <span class="text-xl">ğŸ </span> <span>Inicio</span> </button>
    <div id="phase-header" class="text-center mb-6 mt-12"><!-- Dynamic content -->
    </div>
    <div id="phase-topics" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-w-6xl w-full"><!-- Dynamic content -->
    </div>
   </div><!-- English Categories Screen -->
   <div id="english-screen" class="w-full min-h-full hidden flex-col items-center py-6 px-4 relative z-10"><button onclick="goHome()" class="absolute top-4 left-4 bg-white/80 backdrop-blur-sm rounded-full px-5 py-3 shadow-lg hover:shadow-xl transition-all flex items-center gap-2 font-bold text-orange-600"> <span class="text-xl">ğŸ </span> <span>Home</span> </button>
    <div class="text-center mb-6 mt-12 bounce-in">
     <div class="text-6xl mb-3">
      ğŸŒ
     </div>
     <h2 class="title-font text-4xl font-black text-orange-500 mb-2">English Vocabulary</h2>
     <p class="text-lg text-gray-600 font-semibold">Â¡Elige una categorÃ­a para aprender!</p>
    </div>
    <div id="english-categories" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 max-w-6xl w-full"><!-- Dynamic content -->
    </div>
   </div><!-- Game Screen -->
   <div id="game-screen" class="w-full min-h-full hidden flex-col items-center py-4 px-4 relative z-10 game-container">
    <div class="w-full max-w-4xl"><!-- Game Header -->
     <div class="flex items-center justify-between mb-4"><button onclick="exitGame()" class="bg-white/90 backdrop-blur-sm rounded-full px-4 py-2 shadow-lg hover:shadow-xl transition-all flex items-center gap-2 font-bold text-gray-600"> <span class="text-lg">â†</span> <span>Salir</span> </button>
      <div id="game-title" class="title-font text-xl md:text-2xl font-black text-purple-600 text-center flex-1 mx-4"><!-- Dynamic -->
      </div>
      <div class="flex items-center gap-4"><!-- Timer -->
       <div class="bg-white/90 backdrop-blur-sm rounded-full px-4 py-2 shadow-md flex items-center gap-2"><span class="text-xl">â±ï¸</span> <span id="timer" class="font-bold text-lg text-gray-700">00:00</span>
       </div><!-- Lives -->
       <div id="lives" class="flex gap-1"><span class="text-2xl heart-icon heart-beat" style="animation-delay: 0s;">â¤ï¸</span> <span class="text-2xl heart-icon heart-beat" style="animation-delay: 0.2s;">â¤ï¸</span> <span class="text-2xl heart-icon heart-beat" style="animation-delay: 0.4s;">â¤ï¸</span>
       </div>
      </div>
     </div><!-- Score/Progress -->
     <div class="bg-white/80 backdrop-blur-sm rounded-2xl p-3 mb-4 shadow-md">
      <div class="flex items-center justify-between text-sm font-semibold text-gray-600"><span>PuntuaciÃ³n: <span id="score" class="text-purple-600 text-lg">0</span></span> <span>Pregunta: <span id="progress" class="text-blue-600">1/10</span></span>
      </div>
      <div class="w-full bg-gray-200 rounded-full h-3 mt-2 overflow-hidden">
       <div id="progress-bar" class="bg-gradient-to-r from-pink-400 to-purple-500 h-full rounded-full transition-all duration-500" style="width: 10%"></div>
      </div>
     </div><!-- Game Content Area -->
     <div id="game-content" class="bg-white/90 backdrop-blur-sm rounded-3xl p-6 shadow-xl min-h-96"><!-- Dynamic game content -->
     </div>
    </div>
   </div><!-- Result Modal -->
   <div id="result-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden items-center justify-center z-50 p-4">
    <div class="bg-white rounded-3xl p-8 max-w-md w-full text-center shadow-2xl bounce-in">
     <div id="result-icon" class="text-8xl mb-4">
      ğŸ‰
     </div>
     <h3 id="result-title" class="title-font text-3xl font-black text-purple-600 mb-3">Â¡Excelente!</h3>
     <p id="result-message" class="text-lg text-gray-600 mb-4">Has completado la actividad</p>
     <div id="result-stats" class="bg-gradient-to-r from-pink-50 to-purple-50 rounded-2xl p-4 mb-6">
      <p class="text-2xl font-bold text-purple-600">PuntuaciÃ³n: <span id="final-score">100</span></p>
      <p class="text-gray-500">Tiempo: <span id="final-time">00:00</span></p>
     </div>
     <div class="flex gap-3 justify-center"><button onclick="playAgain()" class="bg-gradient-to-r from-pink-400 to-purple-500 text-white font-bold px-6 py-3 rounded-full shadow-lg hover:shadow-xl transition-all"> ğŸ”„ Jugar otra vez </button> <button onclick="closeResult()" class="bg-gray-200 text-gray-700 font-bold px-6 py-3 rounded-full shadow-lg hover:shadow-xl transition-all"> âœ“ Continuar </button>
     </div>
    </div>
   </div>
  </div>
  <script>
    // Configuration
    const defaultConfig = {
      school_name: 'Escuela Primaria Venustiano Carranza',
      teacher_name: 'Mtra. MarÃ­a Fernanda Flores Valenzuela'
    };
    
    let config = { ...defaultConfig };
    
    // Game State
    let currentGame = null;
    let lives = 3;
    let score = 0;
    let timerInterval = null;
    let seconds = 0;
    let currentQuestion = 0;
    let totalQuestions = 10;
    let lastPhase = null;
    let lastCategory = null;
    
    // Phase Data
    const phases = {
      3: {
        color: 'pink',
        gradient: 'from-pink-300 via-pink-400 to-rose-400',
        icon: 'ğŸŒ¸',
        title: 'FASE 3',
        subtitle: '1Âº y 2Âº Grado',
        topics: [
          { id: 'sisat-alfa-3', icon: 'ğŸ“', title: 'AlfabetizaciÃ³n SiSAT', desc: 'Lectura y escritura bÃ¡sica', type: 'sisat', grade: 'EvaluaciÃ³n' },
          { id: 'sisat-comp-3', icon: 'ğŸ“–', title: 'ComprensiÃ³n Lectora', desc: 'Entender textos sencillos', type: 'sisat-reading', grade: 'EvaluaciÃ³n' },
          { id: 'sisat-calc-3', icon: 'ğŸ§®', title: 'CÃ¡lculo Mental', desc: 'Operaciones rÃ¡pidas', type: 'sisat-math', grade: 'EvaluaciÃ³n' },
          { id: 'vocales', icon: 'ğŸ”¤', title: 'Las Vocales y Mi Nombre', desc: 'Aprende las vocales', type: 'vocales', grade: '1Âº Grado' },
          { id: 'numeros100', icon: 'ğŸ”¢', title: 'NÃºmeros del 1 al 100', desc: 'Conteo y secuencias', type: 'numeros', grade: '1Âº Grado' },
          { id: 'descripciones', icon: 'ğŸ‘¥', title: 'Descripciones', desc: 'Personas y lugares', type: 'descripciones', grade: '2Âº Grado' },
          { id: 'sumas-restas', icon: 'â•', title: 'Sumas y Restas', desc: 'Con centenas', type: 'sumas-restas', grade: '2Âº Grado' },
          { id: 'sentidos', icon: 'ğŸ‘€', title: 'Los 5 Sentidos', desc: 'Conoce tu cuerpo', type: 'sentidos', grade: 'Ambos' },
          { id: 'plantas', icon: 'ğŸŒ±', title: 'Las Plantas', desc: 'Partes y cuidados', type: 'plantas', grade: 'Ambos' }
        ]
      },
      4: {
        color: 'blue',
        gradient: 'from-sky-300 via-blue-400 to-indigo-400',
        icon: 'ğŸŒŠ',
        title: 'FASE 4',
        subtitle: '3Âº y 4Âº Grado',
        topics: [
          { id: 'sisat-alfa-4', icon: 'ğŸ“', title: 'AlfabetizaciÃ³n SiSAT', desc: 'Lectura fluida', type: 'sisat', grade: 'EvaluaciÃ³n' },
          { id: 'sisat-comp-4', icon: 'ğŸ“–', title: 'ComprensiÃ³n Lectora', desc: 'AnÃ¡lisis de textos', type: 'sisat-reading', grade: 'EvaluaciÃ³n' },
          { id: 'sisat-calc-4', icon: 'ğŸ§®', title: 'CÃ¡lculo Mental', desc: 'Operaciones avanzadas', type: 'sisat-math', grade: 'EvaluaciÃ³n' },
          { id: 'fracciones', icon: 'ğŸ•', title: 'Fracciones Sencillas', desc: 'Medios, cuartos, octavos', type: 'fracciones', grade: '3Âº Grado' },
          { id: 'ciclo-agua', icon: 'ğŸ’§', title: 'El Ciclo del Agua', desc: 'Y cuidado ambiental', type: 'ciclo-agua', grade: '3Âº Grado' },
          { id: 'oficios', icon: 'ğŸ‘·', title: 'Oficios y Profesiones', desc: 'De nuestra comunidad', type: 'oficios', grade: '4Âº Grado' },
          { id: 'memorama-oficios', icon: 'ğŸ´', title: 'Memorama de Oficios', desc: 'Â¡Encuentra los pares!', type: 'memorama', grade: '4Âº Grado' },
          { id: 'geografia', icon: 'ğŸ—ºï¸', title: 'GeografÃ­a de MÃ©xico', desc: 'Estados y capitales', type: 'geografia', grade: '4Âº Grado' },
          { id: 'mapa-mexico', icon: 'ğŸ“', title: 'Mapa Interactivo', desc: 'Explora MÃ©xico', type: 'mapa', grade: '4Âº Grado' },
          { id: 'multi-div', icon: 'âœ–ï¸', title: 'MultiplicaciÃ³n y DivisiÃ³n', desc: 'Operaciones avanzadas', type: 'multi-div', grade: 'Ambos' }
        ]
      },
      5: {
        color: 'teal',
        gradient: 'from-emerald-300 via-teal-400 to-cyan-400',
        icon: 'ğŸŒ¿',
        title: 'FASE 5',
        subtitle: '5Âº y 6Âº Grado',
        topics: [
          { id: 'sisat-alfa-5', icon: 'ğŸ“', title: 'AlfabetizaciÃ³n SiSAT', desc: 'Lectura crÃ­tica', type: 'sisat', grade: 'EvaluaciÃ³n' },
          { id: 'sisat-comp-5', icon: 'ğŸ“–', title: 'ComprensiÃ³n Lectora', desc: 'Textos cientÃ­ficos', type: 'sisat-reading', grade: 'EvaluaciÃ³n' },
          { id: 'sisat-calc-5', icon: 'ğŸ§®', title: 'CÃ¡lculo Mental', desc: 'CÃ¡lculo avanzado', type: 'sisat-math', grade: 'EvaluaciÃ³n' },
          { id: 'sistemas', icon: 'ğŸ«€', title: 'Sistemas del Cuerpo', desc: 'Aparatos y sistemas', type: 'sistemas', grade: '5Âº Grado' },
          { id: 'historia', icon: 'ğŸ“œ', title: 'Historia de MÃ©xico', desc: 'Independencia a Reforma', type: 'historia', grade: '5Âº Grado' },
          { id: 'porcentajes', icon: 'ğŸ’¯', title: 'Porcentajes y Decimales', desc: 'CÃ¡lculos prÃ¡cticos', type: 'porcentajes', grade: '6Âº Grado' },
          { id: 'civilizaciones', icon: 'ğŸ›ï¸', title: 'Civilizaciones Antiguas', desc: 'Y el Universo', type: 'civilizaciones', grade: '6Âº Grado' },
          { id: 'comprension-cientifica', icon: 'ğŸ”¬', title: 'ComprensiÃ³n CientÃ­fica', desc: 'Textos de ciencia', type: 'comprension-cientifica', grade: 'Ambos' }
        ]
      }
    };
    
    // English Categories
    const englishCategories = [
      { id: 'animals', icon: 'ğŸ¾', title: 'Animals', desc: 'Animales', color: 'from-pink-300 to-rose-400' },
      { id: 'body', icon: 'ğŸ¦´', title: 'Body Parts', desc: 'Partes del cuerpo', color: 'from-purple-300 to-violet-400' },
      { id: 'greetings', icon: 'ğŸ‘‹', title: 'Greetings', desc: 'Saludos', color: 'from-blue-300 to-indigo-400' },
      { id: 'colors', icon: 'ğŸ¨', title: 'Colors', desc: 'Colores', color: 'from-cyan-300 to-teal-400' },
      { id: 'numbers', icon: 'ğŸ”¢', title: 'Numbers', desc: 'NÃºmeros', color: 'from-green-300 to-emerald-400' },
      { id: 'family', icon: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§', title: 'Family', desc: 'Familia', color: 'from-yellow-300 to-amber-400' },
      { id: 'food', icon: 'ğŸ', title: 'Food', desc: 'Comida', color: 'from-orange-300 to-red-400' },
      { id: 'school', icon: 'ğŸ“š', title: 'School Supplies', desc: 'Ãštiles escolares', color: 'from-lime-300 to-green-400' },
      { id: 'clothes', icon: 'ğŸ‘•', title: 'Clothes', desc: 'Ropa', color: 'from-fuchsia-300 to-pink-400' },
      { id: 'weather', icon: 'ğŸŒ¤ï¸', title: 'Weather', desc: 'Clima', color: 'from-sky-300 to-blue-400' }
    ];
    
    // Vocabulary Data
    const vocabulary = {
      animals: [
        { en: 'Dog', es: 'Perro', emoji: 'ğŸ•' },
        { en: 'Cat', es: 'Gato', emoji: 'ğŸ±' },
        { en: 'Bird', es: 'PÃ¡jaro', emoji: 'ğŸ¦' },
        { en: 'Fish', es: 'Pez', emoji: 'ğŸŸ' },
        { en: 'Horse', es: 'Caballo', emoji: 'ğŸ´' },
        { en: 'Cow', es: 'Vaca', emoji: 'ğŸ„' },
        { en: 'Pig', es: 'Cerdo', emoji: 'ğŸ·' },
        { en: 'Chicken', es: 'Gallina', emoji: 'ğŸ”' },
        { en: 'Duck', es: 'Pato', emoji: 'ğŸ¦†' },
        { en: 'Rabbit', es: 'Conejo', emoji: 'ğŸ°' },
        { en: 'Lion', es: 'LeÃ³n', emoji: 'ğŸ¦' },
        { en: 'Elephant', es: 'Elefante', emoji: 'ğŸ˜' }
      ],
      body: [
        { en: 'Head', es: 'Cabeza', emoji: 'ğŸ—£ï¸' },
        { en: 'Eye', es: 'Ojo', emoji: 'ğŸ‘ï¸' },
        { en: 'Ear', es: 'Oreja', emoji: 'ğŸ‘‚' },
        { en: 'Nose', es: 'Nariz', emoji: 'ğŸ‘ƒ' },
        { en: 'Mouth', es: 'Boca', emoji: 'ğŸ‘„' },
        { en: 'Hand', es: 'Mano', emoji: 'âœ‹' },
        { en: 'Foot', es: 'Pie', emoji: 'ğŸ¦¶' },
        { en: 'Arm', es: 'Brazo', emoji: 'ğŸ’ª' },
        { en: 'Leg', es: 'Pierna', emoji: 'ğŸ¦µ' },
        { en: 'Heart', es: 'CorazÃ³n', emoji: 'â¤ï¸' }
      ],
      greetings: [
        { en: 'Hello', es: 'Hola', emoji: 'ğŸ‘‹' },
        { en: 'Good morning', es: 'Buenos dÃ­as', emoji: 'ğŸŒ…' },
        { en: 'Good afternoon', es: 'Buenas tardes', emoji: 'â˜€ï¸' },
        { en: 'Good night', es: 'Buenas noches', emoji: 'ğŸŒ™' },
        { en: 'Goodbye', es: 'AdiÃ³s', emoji: 'ğŸ‘‹' },
        { en: 'See you later', es: 'Hasta luego', emoji: 'âœŒï¸' },
        { en: 'Please', es: 'Por favor', emoji: 'ğŸ™' },
        { en: 'Thank you', es: 'Gracias', emoji: 'ğŸ™' },
        { en: 'You\'re welcome', es: 'De nada', emoji: 'ğŸ˜Š' },
        { en: 'How are you?', es: 'Â¿CÃ³mo estÃ¡s?', emoji: 'ğŸ¤”' }
      ],
      colors: [
        { en: 'Red', es: 'Rojo', emoji: 'ğŸ”´' },
        { en: 'Blue', es: 'Azul', emoji: 'ğŸ”µ' },
        { en: 'Yellow', es: 'Amarillo', emoji: 'ğŸŸ¡' },
        { en: 'Green', es: 'Verde', emoji: 'ğŸŸ¢' },
        { en: 'Orange', es: 'Naranja', emoji: 'ğŸŸ ' },
        { en: 'Purple', es: 'Morado', emoji: 'ğŸŸ£' },
        { en: 'Pink', es: 'Rosa', emoji: 'ğŸ’—' },
        { en: 'Black', es: 'Negro', emoji: 'âš«' },
        { en: 'White', es: 'Blanco', emoji: 'âšª' },
        { en: 'Brown', es: 'CafÃ©', emoji: 'ğŸŸ¤' }
      ],
      numbers: [
        { en: 'One', es: 'Uno', emoji: '1ï¸âƒ£' },
        { en: 'Two', es: 'Dos', emoji: '2ï¸âƒ£' },
        { en: 'Three', es: 'Tres', emoji: '3ï¸âƒ£' },
        { en: 'Four', es: 'Cuatro', emoji: '4ï¸âƒ£' },
        { en: 'Five', es: 'Cinco', emoji: '5ï¸âƒ£' },
        { en: 'Six', es: 'Seis', emoji: '6ï¸âƒ£' },
        { en: 'Seven', es: 'Siete', emoji: '7ï¸âƒ£' },
        { en: 'Eight', es: 'Ocho', emoji: '8ï¸âƒ£' },
        { en: 'Nine', es: 'Nueve', emoji: '9ï¸âƒ£' },
        { en: 'Ten', es: 'Diez', emoji: 'ğŸ”Ÿ' }
      ],
      family: [
        { en: 'Mother', es: 'Madre', emoji: 'ğŸ‘©' },
        { en: 'Father', es: 'Padre', emoji: 'ğŸ‘¨' },
        { en: 'Sister', es: 'Hermana', emoji: 'ğŸ‘§' },
        { en: 'Brother', es: 'Hermano', emoji: 'ğŸ‘¦' },
        { en: 'Grandmother', es: 'Abuela', emoji: 'ğŸ‘µ' },
        { en: 'Grandfather', es: 'Abuelo', emoji: 'ğŸ‘´' },
        { en: 'Aunt', es: 'TÃ­a', emoji: 'ğŸ‘©' },
        { en: 'Uncle', es: 'TÃ­o', emoji: 'ğŸ‘¨' },
        { en: 'Cousin', es: 'Primo/a', emoji: 'ğŸ§’' },
        { en: 'Baby', es: 'BebÃ©', emoji: 'ğŸ‘¶' }
      ],
      food: [
        { en: 'Apple', es: 'Manzana', emoji: 'ğŸ' },
        { en: 'Banana', es: 'PlÃ¡tano', emoji: 'ğŸŒ' },
        { en: 'Bread', es: 'Pan', emoji: 'ğŸ' },
        { en: 'Milk', es: 'Leche', emoji: 'ğŸ¥›' },
        { en: 'Water', es: 'Agua', emoji: 'ğŸ’§' },
        { en: 'Rice', es: 'Arroz', emoji: 'ğŸš' },
        { en: 'Egg', es: 'Huevo', emoji: 'ğŸ¥š' },
        { en: 'Cheese', es: 'Queso', emoji: 'ğŸ§€' },
        { en: 'Chicken', es: 'Pollo', emoji: 'ğŸ—' },
        { en: 'Orange', es: 'Naranja', emoji: 'ğŸŠ' }
      ],
      school: [
        { en: 'Book', es: 'Libro', emoji: 'ğŸ“š' },
        { en: 'Pencil', es: 'LÃ¡piz', emoji: 'âœï¸' },
        { en: 'Eraser', es: 'Borrador', emoji: 'ğŸ§½' },
        { en: 'Ruler', es: 'Regla', emoji: 'ğŸ“' },
        { en: 'Scissors', es: 'Tijeras', emoji: 'âœ‚ï¸' },
        { en: 'Glue', es: 'Pegamento', emoji: 'ğŸ§´' },
        { en: 'Notebook', es: 'Cuaderno', emoji: 'ğŸ““' },
        { en: 'Backpack', es: 'Mochila', emoji: 'ğŸ’' },
        { en: 'Desk', es: 'Escritorio', emoji: 'ğŸª‘' },
        { en: 'Teacher', es: 'Maestro/a', emoji: 'ğŸ‘©â€ğŸ«' }
      ],
      clothes: [
        { en: 'Shirt', es: 'Camisa', emoji: 'ğŸ‘•' },
        { en: 'Pants', es: 'Pantalones', emoji: 'ğŸ‘–' },
        { en: 'Dress', es: 'Vestido', emoji: 'ğŸ‘—' },
        { en: 'Shoes', es: 'Zapatos', emoji: 'ğŸ‘Ÿ' },
        { en: 'Hat', es: 'Sombrero', emoji: 'ğŸ§¢' },
        { en: 'Socks', es: 'Calcetines', emoji: 'ğŸ§¦' },
        { en: 'Jacket', es: 'Chaqueta', emoji: 'ğŸ§¥' },
        { en: 'Skirt', es: 'Falda', emoji: 'ğŸ‘—' },
        { en: 'Sweater', es: 'SuÃ©ter', emoji: 'ğŸ§¶' },
        { en: 'Glasses', es: 'Lentes', emoji: 'ğŸ‘“' }
      ],
      weather: [
        { en: 'Sunny', es: 'Soleado', emoji: 'â˜€ï¸' },
        { en: 'Cloudy', es: 'Nublado', emoji: 'â˜ï¸' },
        { en: 'Rainy', es: 'Lluvioso', emoji: 'ğŸŒ§ï¸' },
        { en: 'Windy', es: 'Ventoso', emoji: 'ğŸ’¨' },
        { en: 'Snowy', es: 'Nevado', emoji: 'â„ï¸' },
        { en: 'Hot', es: 'Caliente', emoji: 'ğŸ”¥' },
        { en: 'Cold', es: 'FrÃ­o', emoji: 'ğŸ¥¶' },
        { en: 'Rainbow', es: 'ArcoÃ­ris', emoji: 'ğŸŒˆ' },
        { en: 'Storm', es: 'Tormenta', emoji: 'â›ˆï¸' },
        { en: 'Fog', es: 'Niebla', emoji: 'ğŸŒ«ï¸' }
      ]
    };
    
    // Quiz data for different topics
    const quizData = {
      vocales: [
        { q: 'Â¿CuÃ¡l es una vocal?', options: ['A', 'B', 'C', 'D'], correct: 0, emoji: 'ğŸ”¤' },
        { q: 'Â¿QuÃ© vocal falta? M_M_', options: ['A', 'E', 'I', 'O'], correct: 0, emoji: 'ğŸ¤”' },
        { q: 'Â¿CuÃ¡ntas vocales tiene "ELEFANTE"?', options: ['2', '3', '4', '5'], correct: 2, emoji: 'ğŸ˜' },
        { q: 'La palabra "OSO" empieza con...', options: ['A', 'E', 'I', 'O'], correct: 3, emoji: 'ğŸ»' },
        { q: 'Â¿QuÃ© vocal suena en "LUNA"?', options: ['A y E', 'U y A', 'I y O', 'E y U'], correct: 1, emoji: 'ğŸŒ™' }
      ],
      numeros: [
        { q: 'Â¿CuÃ¡nto es 10 + 5?', options: ['14', '15', '16', '17'], correct: 1, emoji: 'ğŸ”¢' },
        { q: 'Â¿QuÃ© nÃºmero viene despuÃ©s del 49?', options: ['48', '50', '51', '59'], correct: 1, emoji: 'â¡ï¸' },
        { q: 'Â¿CuÃ¡ntas decenas tiene el 70?', options: ['5', '6', '7', '8'], correct: 2, emoji: 'ğŸ¯' },
        { q: 'El nÃºmero 85 se lee...', options: ['Ochenta y cinco', 'Cincuenta y ocho', 'Ocho cinco', 'Ochenta cinco'], correct: 0, emoji: 'ğŸ“–' },
        { q: 'Â¿CuÃ¡l es mayor: 67 o 76?', options: ['67', '76', 'Son iguales', 'Ninguno'], correct: 1, emoji: 'âš–ï¸' }
      ],
      'sumas-restas': [
        { q: 'Â¿CuÃ¡nto es 150 + 50?', options: ['100', '150', '200', '250'], correct: 2, emoji: 'â•' },
        { q: 'Â¿CuÃ¡nto es 300 - 100?', options: ['100', '200', '300', '400'], correct: 1, emoji: 'â–' },
        { q: '245 + 155 = ?', options: ['300', '350', '400', '450'], correct: 2, emoji: 'ğŸ§®' },
        { q: '500 - 250 = ?', options: ['200', '250', '300', '350'], correct: 1, emoji: 'âœ¨' },
        { q: 'Â¿CuÃ¡nto es 123 + 77?', options: ['190', '200', '210', '220'], correct: 1, emoji: 'ğŸ‰' }
      ],
      sentidos: [
        { q: 'Â¿Con quÃ© sentido podemos ver?', options: ['OÃ­do', 'Vista', 'Olfato', 'Tacto'], correct: 1, emoji: 'ğŸ‘ï¸' },
        { q: 'Â¿QuÃ© Ã³rgano usamos para oÃ­r?', options: ['Nariz', 'Ojos', 'OÃ­dos', 'Lengua'], correct: 2, emoji: 'ğŸ‘‚' },
        { q: 'Â¿Con quÃ© sentido olemos las flores?', options: ['Gusto', 'Tacto', 'Olfato', 'Vista'], correct: 2, emoji: 'ğŸŒ¸' },
        { q: 'Â¿CuÃ¡ntos sentidos tenemos?', options: ['3', '4', '5', '6'], correct: 2, emoji: 'ğŸ–ï¸' },
        { q: 'Â¿Con quÃ© sentido probamos la comida?', options: ['Gusto', 'Vista', 'OÃ­do', 'Tacto'], correct: 0, emoji: 'ğŸ‘…' }
      ],
      plantas: [
        { q: 'Â¿QuÃ© parte de la planta absorbe agua?', options: ['Hojas', 'Tallo', 'RaÃ­z', 'Flor'], correct: 2, emoji: 'ğŸŒ±' },
        { q: 'Â¿QuÃ© necesitan las plantas para vivir?', options: ['Sol y agua', 'Solo agua', 'Solo sol', 'Nada'], correct: 0, emoji: 'â˜€ï¸' },
        { q: 'Â¿De quÃ© color son las hojas?', options: ['Rojas', 'Azules', 'Verdes', 'Moradas'], correct: 2, emoji: 'ğŸƒ' },
        { q: 'Â¿QuÃ© parte sostiene a la planta?', options: ['RaÃ­z', 'Hoja', 'Tallo', 'Flor'], correct: 2, emoji: 'ğŸŒ¿' },
        { q: 'Â¿De dÃ³nde salen los frutos?', options: ['RaÃ­z', 'Tallo', 'Hojas', 'Flores'], correct: 3, emoji: 'ğŸŒº' }
      ],
      fracciones: [
        { q: 'Si divides una pizza en 2 partes iguales, cada parte es...', options: ['Un cuarto', 'Un medio', 'Un tercio', 'Un octavo'], correct: 1, emoji: 'ğŸ•' },
        { q: 'Â¿CuÃ¡ntos cuartos hay en un entero?', options: ['2', '3', '4', '5'], correct: 2, emoji: 'ğŸ‚' },
        { q: 'Â¿QuÃ© es mayor: 1/2 o 1/4?', options: ['1/2', '1/4', 'Son iguales', 'No se puede saber'], correct: 0, emoji: 'âš–ï¸' },
        { q: 'Si comes 3 de 8 rebanadas, Â¿cuÃ¡nto comiste?', options: ['3/4', '3/8', '8/3', '5/8'], correct: 1, emoji: 'ğŸ°' },
        { q: 'Â¿CÃ³mo se lee 1/4?', options: ['Un medio', 'Un cuarto', 'Un tercio', 'Un entero'], correct: 1, emoji: 'ğŸ“–' }
      ],
      'ciclo-agua': [
        { q: 'Â¿QuÃ© es la evaporaciÃ³n?', options: ['Agua que cae', 'Agua que sube como vapor', 'Agua congelada', 'Agua sucia'], correct: 1, emoji: 'ğŸ’¨' },
        { q: 'Â¿De dÃ³nde viene la lluvia?', options: ['Del sol', 'De las nubes', 'Del mar', 'De los Ã¡rboles'], correct: 1, emoji: 'ğŸŒ§ï¸' },
        { q: 'Â¿CÃ³mo podemos cuidar el agua?', options: ['Dejarla correr', 'Cerrar la llave', 'Tirar basura', 'Contaminar rÃ­os'], correct: 1, emoji: 'ğŸš°' },
        { q: 'Â¿QuÃ© pasa con el agua cuando hace mucho frÃ­o?', options: ['Se evapora', 'Se congela', 'Desaparece', 'Se calienta'], correct: 1, emoji: 'â„ï¸' },
        { q: 'Â¿El ciclo del agua tiene fin?', options: ['SÃ­', 'No, es continuo', 'A veces', 'Solo en verano'], correct: 1, emoji: 'ğŸ”„' }
      ],
      oficios: [
        { q: 'Â¿QuiÃ©n cura a los enfermos?', options: ['Maestro', 'Doctor', 'Bombero', 'PolicÃ­a'], correct: 1, emoji: 'ğŸ‘¨â€âš•ï¸' },
        { q: 'Â¿QuiÃ©n apaga los incendios?', options: ['MÃ©dico', 'Carpintero', 'Bombero', 'Chef'], correct: 2, emoji: 'ğŸš’' },
        { q: 'Â¿QuiÃ©n enseÃ±a en la escuela?', options: ['Doctor', 'Maestro', 'Cartero', 'AlbaÃ±il'], correct: 1, emoji: 'ğŸ‘©â€ğŸ«' },
        { q: 'Â¿QuiÃ©n construye casas?', options: ['Panadero', 'AlbaÃ±il', 'Veterinario', 'Piloto'], correct: 1, emoji: 'ğŸ—ï¸' },
        { q: 'Â¿QuiÃ©n cuida a los animales enfermos?', options: ['Dentista', 'Veterinario', 'MecÃ¡nico', 'Electricista'], correct: 1, emoji: 'ğŸ¾' }
      ],
      geografia: [
        { q: 'Â¿CuÃ¡l es la capital de MÃ©xico?', options: ['Guadalajara', 'Monterrey', 'Ciudad de MÃ©xico', 'CancÃºn'], correct: 2, emoji: 'ğŸ›ï¸' },
        { q: 'Â¿CuÃ¡ntos estados tiene MÃ©xico?', options: ['30', '31', '32', '33'], correct: 2, emoji: 'ğŸ—ºï¸' },
        { q: 'Â¿QuÃ© estado estÃ¡ en la penÃ­nsula de YucatÃ¡n?', options: ['Sonora', 'Chiapas', 'Quintana Roo', 'Jalisco'], correct: 2, emoji: 'ğŸï¸' },
        { q: 'Â¿La capital de Sonora es...?', options: ['Tijuana', 'Hermosillo', 'Mexicali', 'Nogales'], correct: 1, emoji: 'ğŸŒµ' },
        { q: 'Â¿QuÃ© ocÃ©ano estÃ¡ al oeste de MÃ©xico?', options: ['AtlÃ¡ntico', 'Ãrtico', 'PacÃ­fico', 'Ãndico'], correct: 2, emoji: 'ğŸŒŠ' }
      ],
      'multi-div': [
        { q: 'Â¿CuÃ¡nto es 7 x 8?', options: ['54', '56', '58', '64'], correct: 1, emoji: 'âœ–ï¸' },
        { q: 'Â¿CuÃ¡nto es 45 Ã· 9?', options: ['4', '5', '6', '7'], correct: 1, emoji: 'â—' },
        { q: 'Â¿CuÃ¡nto es 12 x 5?', options: ['50', '55', '60', '65'], correct: 2, emoji: 'ğŸ”¢' },
        { q: 'Â¿CuÃ¡nto es 72 Ã· 8?', options: ['7', '8', '9', '10'], correct: 2, emoji: 'ğŸ§®' },
        { q: 'Â¿CuÃ¡nto es 9 x 9?', options: ['72', '81', '90', '99'], correct: 1, emoji: 'â­' }
      ],
      sistemas: [
        { q: 'Â¿QuÃ© Ã³rgano bombea la sangre?', options: ['Pulmones', 'CorazÃ³n', 'EstÃ³mago', 'Cerebro'], correct: 1, emoji: 'â¤ï¸' },
        { q: 'Â¿QuÃ© sistema nos permite respirar?', options: ['Digestivo', 'Circulatorio', 'Respiratorio', 'Nervioso'], correct: 2, emoji: 'ğŸ«' },
        { q: 'Â¿DÃ³nde se digieren los alimentos?', options: ['CorazÃ³n', 'Pulmones', 'EstÃ³mago', 'Cerebro'], correct: 2, emoji: 'ğŸ½ï¸' },
        { q: 'Â¿QuÃ© Ã³rgano controla todo el cuerpo?', options: ['CorazÃ³n', 'Cerebro', 'HÃ­gado', 'RiÃ±ones'], correct: 1, emoji: 'ğŸ§ ' },
        { q: 'Â¿CuÃ¡ntos huesos tiene el cuerpo adulto?', options: ['106', '156', '206', '256'], correct: 2, emoji: 'ğŸ¦´' }
      ],
      historia: [
        { q: 'Â¿En quÃ© aÃ±o iniciÃ³ la Independencia?', options: ['1800', '1810', '1821', '1910'], correct: 1, emoji: 'ğŸ“œ' },
        { q: 'Â¿QuiÃ©n dio el Grito de Independencia?', options: ['Morelos', 'Hidalgo', 'JuÃ¡rez', 'Guerrero'], correct: 1, emoji: 'ğŸ””' },
        { q: 'Â¿CuÃ¡ndo terminÃ³ la Independencia?', options: ['1810', '1815', '1821', '1910'], correct: 2, emoji: 'ğŸ‰' },
        { q: 'Â¿QuiÃ©n fue Benito JuÃ¡rez?', options: ['Rey', 'Presidente', 'Virrey', 'Soldado'], correct: 1, emoji: 'ğŸ›ï¸' },
        { q: 'Â¿QuÃ© defendiÃ³ JuÃ¡rez?', options: ['La monarquÃ­a', 'Las leyes y la RepÃºblica', 'El imperio', 'La colonia'], correct: 1, emoji: 'âš–ï¸' }
      ],
      porcentajes: [
        { q: 'Â¿CuÃ¡nto es el 50% de 100?', options: ['25', '50', '75', '100'], correct: 1, emoji: 'ğŸ’¯' },
        { q: 'Â¿CuÃ¡nto es el 25% de 80?', options: ['10', '15', '20', '25'], correct: 2, emoji: 'ğŸ”¢' },
        { q: '0.5 es igual a...', options: ['1/2', '1/4', '1/3', '1/5'], correct: 0, emoji: 'âš–ï¸' },
        { q: 'Â¿CuÃ¡nto es 0.75 + 0.25?', options: ['0.5', '0.75', '1.0', '1.25'], correct: 2, emoji: 'â•' },
        { q: 'Â¿QuÃ© es mayor: 0.7 o 0.65?', options: ['0.7', '0.65', 'Son iguales', 'No se puede saber'], correct: 0, emoji: 'ğŸ“Š' }
      ],
      civilizaciones: [
        { q: 'Â¿QuÃ© civilizaciÃ³n construyÃ³ pirÃ¡mides en MÃ©xico?', options: ['Romana', 'Maya', 'Griega', 'China'], correct: 1, emoji: 'ğŸ›ï¸' },
        { q: 'Â¿QuÃ© es el Sol?', options: ['Un planeta', 'Una estrella', 'Una luna', 'Un cometa'], correct: 1, emoji: 'â˜€ï¸' },
        { q: 'Â¿CuÃ¡ntos planetas hay en el Sistema Solar?', options: ['6', '7', '8', '9'], correct: 2, emoji: 'ğŸª' },
        { q: 'Â¿Los aztecas fundaron...?', options: ['Oaxaca', 'Tenochtitlan', 'Chichen ItzÃ¡', 'Palenque'], correct: 1, emoji: 'ğŸ¦…' },
        { q: 'Â¿QuÃ© planeta estÃ¡ mÃ¡s cerca del Sol?', options: ['Venus', 'Tierra', 'Mercurio', 'Marte'], correct: 2, emoji: 'ğŸŒ¡ï¸' }
      ]
    };
    
    // Memorama data for oficios
    const memoramaOficios = [
      { id: 1, name: 'Doctor', emoji: 'ğŸ‘¨â€âš•ï¸' },
      { id: 2, name: 'Maestra', emoji: 'ğŸ‘©â€ğŸ«' },
      { id: 3, name: 'Bombero', emoji: 'ğŸ§‘â€ğŸš’' },
      { id: 4, name: 'PolicÃ­a', emoji: 'ğŸ‘®' },
      { id: 5, name: 'Chef', emoji: 'ğŸ‘¨â€ğŸ³' },
      { id: 6, name: 'AlbaÃ±il', emoji: 'ğŸ‘·' }
    ];
    
    // Mexico map data
    const mexicoStates = [
      { name: 'Ciudad de MÃ©xico', capital: 'CDMX', fact: 'Es la capital del paÃ­s', x: 50, y: 55 },
      { name: 'Jalisco', capital: 'Guadalajara', fact: 'Cuna del mariachi y el tequila', x: 38, y: 50 },
      { name: 'Nuevo LeÃ³n', capital: 'Monterrey', fact: 'Centro industrial del norte', x: 55, y: 35 },
      { name: 'YucatÃ¡n', capital: 'MÃ©rida', fact: 'Tierra de los mayas', x: 78, y: 52 },
      { name: 'Sonora', capital: 'Hermosillo', fact: 'El estado mÃ¡s grande', x: 25, y: 25 },
      { name: 'Chiapas', capital: 'Tuxtla GutiÃ©rrez', fact: 'Rica biodiversidad', x: 68, y: 72 }
    ];
    
    // Navigation Functions
    function showPhase(phase) {
      lastPhase = phase;
      document.getElementById('main-menu').classList.add('hidden');
      document.getElementById('english-screen').classList.add('hidden');
      document.getElementById('phase-screen').classList.remove('hidden');
      document.getElementById('phase-screen').classList.add('flex');
      
      const data = phases[phase];
      const header = document.getElementById('phase-header');
      header.innerHTML = `
        <div class="text-6xl mb-3 float-animation">${data.icon}</div>
        <h2 class="title-font text-4xl font-black bg-gradient-to-r ${data.gradient} bg-clip-text text-transparent mb-2">${data.title}</h2>
        <p class="text-xl text-gray-600 font-semibold">${data.subtitle}</p>
      `;
      
      const topics = document.getElementById('phase-topics');
      topics.innerHTML = data.topics.map((topic, i) => `
        <button onclick="startActivity('${topic.id}', '${topic.type}', ${phase})" 
                class="topic-card bg-white/90 backdrop-blur-sm rounded-2xl p-5 shadow-lg hover:shadow-xl text-left slide-up"
                style="animation-delay: ${i * 0.05}s">
          <div class="flex items-start gap-4">
            <div class="text-4xl">${topic.icon}</div>
            <div class="flex-1">
              <span class="inline-block px-3 py-1 bg-gradient-to-r ${data.gradient} text-white text-xs font-bold rounded-full mb-2">${topic.grade}</span>
              <h3 class="title-font text-lg font-bold text-gray-800">${topic.title}</h3>
              <p class="text-sm text-gray-500">${topic.desc}</p>
            </div>
          </div>
        </button>
      `).join('');
    }
    
    function showEnglish() {
      document.getElementById('main-menu').classList.add('hidden');
      document.getElementById('phase-screen').classList.add('hidden');
      document.getElementById('english-screen').classList.remove('hidden');
      document.getElementById('english-screen').classList.add('flex');
      
      const cats = document.getElementById('english-categories');
      cats.innerHTML = englishCategories.map((cat, i) => `
        <button onclick="startEnglishGame('${cat.id}')" 
                class="main-btn bg-gradient-to-br ${cat.color} rounded-2xl p-4 text-white text-center slide-up"
                style="animation-delay: ${i * 0.05}s">
          <div class="text-4xl mb-2">${cat.icon}</div>
          <h3 class="title-font text-lg font-bold">${cat.title}</h3>
          <p class="text-sm opacity-90">${cat.desc}</p>
        </button>
      `).join('');
    }
    
    function goHome() {
      document.getElementById('main-menu').classList.remove('hidden');
      document.getElementById('phase-screen').classList.add('hidden');
      document.getElementById('phase-screen').classList.remove('flex');
      document.getElementById('english-screen').classList.add('hidden');
      document.getElementById('english-screen').classList.remove('flex');
      document.getElementById('game-screen').classList.add('hidden');
      document.getElementById('game-screen').classList.remove('flex');
      stopTimer();
    }
    
    // Game Functions
    function startActivity(id, type, phase) {
      lastPhase = phase;
      currentGame = { id, type, phase };
      
      if (type === 'memorama') {
        startMemorama();
      } else if (type === 'mapa') {
        startMapGame();
      } else {
        startQuizGame(id, type);
      }
    }
    
    function startEnglishGame(category) {
      lastCategory = category;
      currentGame = { id: category, type: 'english' };
      initGame();
      showGameScreen();
      
      const cat = englishCategories.find(c => c.id === category);
      document.getElementById('game-title').innerHTML = `ğŸŒ ${cat.title} - ${cat.desc}`;
      
      loadEnglishQuestion();
    }
    
    function startQuizGame(id, type) {
      initGame();
      showGameScreen();
      
      const phase = phases[lastPhase];
      const topic = phase.topics.find(t => t.id === id);
      document.getElementById('game-title').innerHTML = `${topic.icon} ${topic.title}`;
      
      loadQuizQuestion(id);
    }
    
    function initGame() {
      lives = 3;
      score = 0;
      currentQuestion = 0;
      seconds = 0;
      updateLives();
      updateScore();
      updateProgress();
      startTimer();
    }
    
    function showGameScreen() {
      document.getElementById('main-menu').classList.add('hidden');
      document.getElementById('phase-screen').classList.add('hidden');
      document.getElementById('phase-screen').classList.remove('flex');
      document.getElementById('english-screen').classList.add('hidden');
      document.getElementById('english-screen').classList.remove('flex');
      document.getElementById('game-screen').classList.remove('hidden');
      document.getElementById('game-screen').classList.add('flex');
    }
    
    function loadEnglishQuestion() {
      const words = vocabulary[currentGame.id];
      if (currentQuestion >= Math.min(10, words.length)) {
        endGame(true);
        return;
      }
      
      const word = words[currentQuestion];
      const options = generateOptions(words, word, 4);
      
      const content = document.getElementById('game-content');
      content.innerHTML = `
        <div class="text-center">
          <p class="text-gray-500 mb-2 font-semibold">Â¿CÃ³mo se dice en inglÃ©s?</p>
          <div class="text-8xl mb-4">${word.emoji}</div>
          <h3 class="title-font text-3xl font-black text-purple-600 mb-6">${word.es}</h3>
          <div class="grid grid-cols-2 gap-4 max-w-lg mx-auto">
            ${options.map((opt, i) => `
              <button onclick="checkEnglishAnswer('${opt.en}', '${word.en}', this)" 
                      class="vocab-card bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl p-4 shadow-md hover:shadow-lg">
                <span class="title-font text-xl font-bold text-gray-700">${opt.en}</span>
              </button>
            `).join('')}
          </div>
        </div>
      `;
    }
    
    function generateOptions(words, correct, count) {
      const options = [correct];
      const available = words.filter(w => w.en !== correct.en);
      
      while (options.length < count && available.length > 0) {
        const idx = Math.floor(Math.random() * available.length);
        options.push(available.splice(idx, 1)[0]);
      }
      
      return shuffleArray(options);
    }
    
    function shuffleArray(array) {
      const arr = [...array];
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }
    
    function checkEnglishAnswer(selected, correct, button) {
      const isCorrect = selected === correct;
      
      if (isCorrect) {
        button.classList.add('correct');
        score += 10;
        updateScore();
      } else {
        button.classList.add('incorrect');
        lives--;
        updateLives();
        
        if (lives <= 0) {
          setTimeout(() => endGame(false), 500);
          return;
        }
      }
      
      setTimeout(() => {
        currentQuestion++;
        updateProgress();
        loadEnglishQuestion();
      }, 800);
    }
    
    function loadQuizQuestion(id) {
      let questions = quizData[id] || quizData.vocales;
      
      if (currentQuestion >= Math.min(totalQuestions, questions.length)) {
        endGame(true);
        return;
      }
      
      const q = questions[currentQuestion];
      
      const content = document.getElementById('game-content');
      content.innerHTML = `
        <div class="text-center">
          <div class="text-6xl mb-4">${q.emoji}</div>
          <h3 class="title-font text-2xl font-bold text-gray-800 mb-6">${q.q}</h3>
          <div class="grid grid-cols-2 gap-4 max-w-lg mx-auto">
            ${q.options.map((opt, i) => `
              <button onclick="checkQuizAnswer(${i}, ${q.correct}, this, '${id}')" 
                      class="sisat-option bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl p-4 shadow-md hover:shadow-lg">
                <span class="title-font text-lg font-bold text-gray-700">${opt}</span>
              </button>
            `).join('')}
          </div>
        </div>
      `;
    }
    
    function checkQuizAnswer(selected, correct, button, id) {
      const isCorrect = selected === correct;
      
      document.querySelectorAll('.sisat-option').forEach((btn, i) => {
        if (i === correct) {
          btn.style.background = 'linear-gradient(135deg, #86efac, #4ade80)';
        } else if (i === selected && !isCorrect) {
          btn.style.background = 'linear-gradient(135deg, #fca5a5, #f87171)';
        }
        btn.disabled = true;
      });
      
      if (isCorrect) {
        score += 10;
        updateScore();
      } else {
        lives--;
        updateLives();
        
        if (lives <= 0) {
          setTimeout(() => endGame(false), 500);
          return;
        }
      }
      
      setTimeout(() => {
        currentQuestion++;
        updateProgress();
        loadQuizQuestion(id);
      }, 1000);
    }
    
    // Memorama Game
    let memoramaCards = [];
    let flippedCards = [];
    let matchedPairs = 0;
    
    function startMemorama() {
      initGame();
      showGameScreen();
      document.getElementById('game-title').innerHTML = 'ğŸ´ Memorama de Oficios';
      
      memoramaCards = [...memoramaOficios, ...memoramaOficios].map((card, i) => ({
        ...card,
        uniqueId: i,
        matched: false
      }));
      memoramaCards = shuffleArray(memoramaCards);
      flippedCards = [];
      matchedPairs = 0;
      totalQuestions = memoramaOficios.length;
      
      renderMemorama();
    }
    
    function renderMemorama() {
      const content = document.getElementById('game-content');
      content.innerHTML = `
        <div class="grid grid-cols-3 md:grid-cols-4 gap-3">
          ${memoramaCards.map((card, i) => `
            <div onclick="flipCard(${i})" 
                 class="memorama-card aspect-square ${card.matched ? 'flipped' : ''}"
                 id="card-${i}">
              <div class="memorama-card-inner relative w-full h-full">
                <div class="memorama-card-front bg-gradient-to-br from-blue-400 to-indigo-500 flex items-center justify-center shadow-lg">
                  <span class="text-4xl text-white">â“</span>
                </div>
                <div class="memorama-card-back bg-gradient-to-br from-pink-100 to-purple-100 flex flex-col items-center justify-center shadow-lg">
                  <span class="text-4xl">${card.emoji}</span>
                  <span class="text-xs font-bold text-gray-600 mt-1">${card.name}</span>
                </div>
              </div>
            </div>
          `).join('')}
        </div>
      `;
    }
    
    function flipCard(index) {
      const card = memoramaCards[index];
      
      if (card.matched || flippedCards.length >= 2 || flippedCards.includes(index)) return;
      
      flippedCards.push(index);
      document.getElementById(`card-${index}`).classList.add('flipped');
      
      if (flippedCards.length === 2) {
        const [first, second] = flippedCards;
        
        if (memoramaCards[first].id === memoramaCards[second].id) {
          memoramaCards[first].matched = true;
          memoramaCards[second].matched = true;
          matchedPairs++;
          score += 20;
          updateScore();
          flippedCards = [];
          
          currentQuestion = matchedPairs;
          updateProgress();
          
          if (matchedPairs === memoramaOficios.length) {
            setTimeout(() => endGame(true), 500);
          }
        } else {
          lives--;
          updateLives();
          
          if (lives <= 0) {
            setTimeout(() => endGame(false), 500);
            return;
          }
          
          setTimeout(() => {
            document.getElementById(`card-${first}`).classList.remove('flipped');
            document.getElementById(`card-${second}`).classList.remove('flipped');
            flippedCards = [];
          }, 1000);
        }
      }
    }
    
    // Map Game
    function startMapGame() {
      initGame();
      showGameScreen();
      document.getElementById('game-title').innerHTML = 'ğŸ“ Mapa Interactivo de MÃ©xico';
      totalQuestions = mexicoStates.length;
      
      const content = document.getElementById('game-content');
      content.innerHTML = `
        <div class="text-center">
          <p class="text-gray-600 mb-4 font-semibold">Haz clic en los puntos para aprender sobre MÃ©xico</p>
          <div class="relative bg-gradient-to-br from-green-100 to-blue-100 rounded-3xl p-4 mx-auto" style="max-width: 600px; aspect-ratio: 4/3;">
            <!-- Simplified Mexico Map -->
            <svg viewBox="0 0 100 80" class="w-full h-full">
              <!-- Mexico outline (simplified) -->
              <path d="M5,25 Q15,15 30,20 L45,15 Q60,10 75,20 L85,25 Q90,35 88,45 L80,55 Q75,65 65,70 L55,72 Q45,75 35,70 L25,65 Q15,55 10,45 Q5,35 5,25 Z" 
                    fill="#86efac" stroke="#22c55e" stroke-width="1"/>
              <!-- Yucatan Peninsula -->
              <path d="M75,50 Q80,45 85,50 L88,55 Q90,62 85,65 L78,68 Q72,65 75,55 Z" 
                    fill="#86efac" stroke="#22c55e" stroke-width="1"/>
            </svg>
            
            <!-- State Points -->
            ${mexicoStates.map((state, i) => `
              <button onclick="showStateInfo(${i})" 
                      class="map-region absolute w-8 h-8 bg-gradient-to-br from-pink-400 to-red-400 rounded-full flex items-center justify-center shadow-lg text-white font-bold text-sm hover:scale-110"
                      style="left: ${state.x}%; top: ${state.y}%; transform: translate(-50%, -50%);">
                ${i + 1}
              </button>
            `).join('')}
          </div>
          
          <div id="state-info" class="mt-4 bg-white/80 rounded-2xl p-4 min-h-24">
            <p class="text-gray-500">ğŸ‘† Haz clic en un punto para ver informaciÃ³n</p>
          </div>
        </div>
      `;
    }
    
    function showStateInfo(index) {
      const state = mexicoStates[index];
      const info = document.getElementById('state-info');
      
      info.innerHTML = `
        <div class="bounce-in">
          <h4 class="title-font text-2xl font-black text-purple-600">${state.name}</h4>
          <p class="text-lg"><span class="font-bold">Capital:</span> ${state.capital}</p>
          <p class="text-gray-600">ğŸ’¡ ${state.fact}</p>
        </div>
      `;
      
      score += 5;
      updateScore();
      currentQuestion = Math.min(currentQuestion + 1, totalQuestions);
      updateProgress();
      
      if (currentQuestion >= totalQuestions) {
        setTimeout(() => endGame(true), 1000);
      }
    }
    
    // Timer Functions
    function startTimer() {
      stopTimer();
      timerInterval = setInterval(() => {
        seconds++;
        updateTimerDisplay();
      }, 1000);
    }
    
    function stopTimer() {
      if (timerInterval) {
        clearInterval(timerInterval);
        timerInterval = null;
      }
    }
    
    function updateTimerDisplay() {
      const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
      const secs = (seconds % 60).toString().padStart(2, '0');
      document.getElementById('timer').textContent = `${mins}:${secs}`;
    }
    
    // UI Update Functions
    function updateLives() {
      const livesContainer = document.getElementById('lives');
      livesContainer.innerHTML = Array(3).fill(0).map((_, i) => 
        `<span class="text-2xl heart-icon ${i < lives ? 'heart-beat' : 'opacity-30'}" style="animation-delay: ${i * 0.2}s;">${i < lives ? 'â¤ï¸' : 'ğŸ–¤'}</span>`
      ).join('');
    }
    
    function updateScore() {
      document.getElementById('score').textContent = score;
    }
    
    function updateProgress() {
      const total = totalQuestions || 10;
      const current = Math.min(currentQuestion + 1, total);
      document.getElementById('progress').textContent = `${current}/${total}`;
      document.getElementById('progress-bar').style.width = `${(current / total) * 100}%`;
    }
    
    // Game End
    function endGame(won) {
      stopTimer();
      
      const modal = document.getElementById('result-modal');
      modal.classList.remove('hidden');
      modal.classList.add('flex');
      
      if (won) {
        document.getElementById('result-icon').textContent = lives === 3 ? 'ğŸ†' : lives === 2 ? 'ğŸ‰' : 'â­';
        document.getElementById('result-title').textContent = lives === 3 ? 'Â¡Perfecto!' : lives === 2 ? 'Â¡Excelente!' : 'Â¡Bien hecho!';
        document.getElementById('result-message').textContent = 'Has completado la actividad';
      } else {
        document.getElementById('result-icon').textContent = 'ğŸ’ª';
        document.getElementById('result-title').textContent = 'Â¡Sigue intentando!';
        document.getElementById('result-message').textContent = 'La prÃ¡ctica hace al maestro';
      }
      
      document.getElementById('final-score').textContent = score;
      const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
      const secs = (seconds % 60).toString().padStart(2, '0');
      document.getElementById('final-time').textContent = `${mins}:${secs}`;
    }
    
    function playAgain() {
      closeResult();
      
      if (currentGame.type === 'english') {
        startEnglishGame(currentGame.id);
      } else if (currentGame.type === 'memorama') {
        startMemorama();
      } else if (currentGame.type === 'mapa') {
        startMapGame();
      } else {
        startQuizGame(currentGame.id, currentGame.type);
      }
    }
    
    function closeResult() {
      const modal = document.getElementById('result-modal');
      modal.classList.add('hidden');
      modal.classList.remove('flex');
    }
    
    function exitGame() {
      stopTimer();
      if (currentGame.type === 'english') {
        showEnglish();
      } else if (lastPhase) {
        showPhase(lastPhase);
      } else {
        goHome();
      }
    }
    
    // Element SDK Integration
    async function onConfigChange(newConfig) {
      config = { ...config, ...newConfig };
      
      const schoolTitle = document.getElementById('school-title');
      if (schoolTitle) {
        schoolTitle.innerHTML = `ğŸ« ${config.school_name || defaultConfig.school_name} ğŸ«`;
      }
      
      const teacherName = document.getElementById('teacher-name');
      if (teacherName) {
        teacherName.textContent = config.teacher_name || defaultConfig.teacher_name;
      }
    }
    
    // Initialize SDK
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities: (cfg) => ({
          recolorables: [],
          borderables: [],
          fontEditable: undefined,
          fontSizeable: undefined
        }),
        mapToEditPanelValues: (cfg) => new Map([
          ['school_name', cfg.school_name || defaultConfig.school_name],
          ['teacher_name', cfg.teacher_name || defaultConfig.teacher_name]
        ])
      });
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9d016db204982efd',t:'MTc3MTQ1ODY0NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
